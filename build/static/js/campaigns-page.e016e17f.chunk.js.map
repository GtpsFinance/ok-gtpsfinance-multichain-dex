{"version":3,"sources":["../node_modules/react-feather/dist/icons/clock.js","../node_modules/react-feather/dist/icons/bar-chart.js","../node_modules/react-feather/dist/icons/users.js","components/ProgressBar/index.tsx","components/YourCampaignTransactionsModal/index.tsx","pages/Campaign/CampaignButtonWithOptions.tsx","pages/Campaign/CampaignButtonEnterNow.tsx","pages/Campaign/CampaignActions.tsx","hooks/campaigns/useTemporaryClaimedRefsManager.ts","pages/Campaign/CampaignItem.tsx","pages/Campaign/CampaignListAndSearch.tsx","../node_modules/react-use/esm/useSize.js","pages/Campaign/LeaderboardLayout.tsx","../node_modules/react-google-recaptcha/lib/esm/recaptcha.js","../node_modules/react-async-script/lib/esm/async-script-loader.js","../node_modules/react-google-recaptcha/lib/esm/recaptcha-wrapper.js","../node_modules/react-google-recaptcha/lib/esm/index.js","pages/Campaign/ModalRegisterCampaignCaptcha.tsx","assets/images/register-campaign-bg.png","pages/Campaign/ModalRegisterCampaignSuccess.tsx","utils/oembed2iframe.ts","pages/Campaign/ModalSelectCampaign.tsx","pages/Campaign/index.tsx","pages/Pool/styleds.tsx","pages/ProAmmPool/ContentLoader.tsx","utils/formatTime.ts","utils/sendTransaction.ts"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","Clock","forwardRef","_ref","ref","_ref$color","color","_ref$size","size","rest","React","createElement","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","r","points","propTypes","PropTypes","string","oneOfType","number","displayName","BarChart","x1","y1","x2","y2","Users","d","Wrapper","styled","div","Bar","theme","primary","percent","ProgressBar","valueTextColor","title","value","useTheme","flexDirection","style","gap","justifyContent","fontSize","subText","lineHeight","Math","min","YourCampaignTransactionsModal","isYourCampaignTransactionModalOpen","useModalOpen","ApplicationModal","YOUR_CAMPAIGN_TRANSACTIONS","toggleYourCampaignTransactionModal","useToggleYourCampaignTransactionsModal","account","useActiveWeb3React","useState","currentPage","above768","useMedia","selectedCampaign","useSelector","state","campaigns","useSWR","SWR_KEYS","getCampaignTransactions","id","CAMPAIGN_YOUR_TRANSACTIONS_ITEM_PER_PAGE","url","fetch","response","ok","json","data","Array","isArray","map","item","chainId","parseInt","utcTimestamp","Date","time","getTime","txPoint","txHash","tx","console","error","userCampaignTransactions","useCopyClipboard","isCopied","setCopied","copiedText","useRef","Modal","isOpen","onDismiss","maxWidth","ModalContent","alignItems","Title","onClick","cursor","TableWrapper","TableHeader","TableHeaderItem","textAlign","TableBodyWrapper","sx","minHeight","padding","margin","as","mt","ct","index","TableBody","TableBodyItem","role","current","src","NETWORKS_INFO","icon","alt","getShortenAddress","e","stopPropagation","window","open","getEtherscanLink","dayjs","format","Flex","tableHeader","Text","mediaWidth","upToSmall","css","background","border","text","disableText","CampaignButtonWithOptions","campaign","leaderboard","disabled","type","addTemporaryClaimedRefs","isShowNetworks","setIsShowNetworks","changeNetwork","useChangeNetwork","containerRef","useOnClickOutside","mixpanelHandler","useMixpanel","chainIds","split","Number","library","useWeb3React","leaderboardInfo","refs","rewards","forEach","reward","claimed","rewardAmount","greaterThan","BIG_INT_ZERO","push","transactionsState","transactions","campaignData","selectedCampaignLeaderboard","useMemo","rewardChainIds","useSetClaimingCampaignRewardId","claimingCampaignRewardId","setClaimingCampaignRewardId","ref2Hash","setRef2Hash","isClaimingThisCampaignRewards","filter","hash","some","undefined","findTx","receipt","dispatch","useDispatch","updateCampaignStore","rw","newLeaderboard","setSelectedCampaignLeaderboard","el","setCampaignData","addTransactionWithType","useTransactionAdder","claimRewards","claimChainId","REWARD_SERVICE_API","wallet","toLowerCase","clientCode","axios","method","code","rewardContractAddress","ContractAddress","encodedData","EncodedData","sendEVMTransaction","BigNumber","from","transactionResponse","accumulatedUnclaimedRewards","reduce","acc","token","address","add","rewardString","values","toSignificant","DEFAULT_SIGNIFICANT","symbol","join","TRANSACTION_TYPE","CLAIM","desiredChainId","summary","name","newRef2Hash","prev","wait","status","handleSwapNow","useSwapNowHandler","StyledPrimaryButton","position","top","right","transform","MIXPANEL_TYPE","CAMPAIGN_CLAIM_REWARDS_CLICKED","campaign_name","minWidth","marginLeft","fontWeight","ButtonPrimary","textReverse","CampaignButtonEnterNow","useRecaptchaCampaignManager","recaptchaCampaign","updateRecaptchaCampaignId","toggleRegisterCampaignCaptchaModal","useRegisterCampaignCaptchaModalToggle","isVerifyingToken","loading","CAMPAIGN_ENTER_NOW_CLICKED","CampaignActions","hideWhenDisabled","campaignInfo","useLocalStorage","claimedRefs","setClaimedRefs","onAddClaimedRefs","useCallback","useTemporaryClaimedRefsManager","temporaryClaimedRefs","CampaignStatus","ONGOING","userInfo","CampaignUserInfoStatus","Ineligible","UPCOMING","ENDED","campaignState","CampaignState","CampaignStateReady","CampaignStateFinalizedLeaderboard","CampaignStateDistributedRewards","isUserClaimedRewardsInThisCampaign","includes","memo","CampaignItemWrapper","selected","rgba","bg8","CampaignStatusText","warning","red","Container","CampaignItem","onSelectCampaign","isSelected","isDarkMode","useIsDarkMode","isRewardInUSD","rewardDistribution","rewardInUSD","totalRewardAmount","Fraction","percentTradingVolume","tradingNumberRequired","tradingVolumeRequired","tradingNumber","tradingVolume","parseUnits","amount","RESERVE_USD_DECIMALS","toString","JSBI","exponentiate","BigInt","decimals","floor","log","isOngoing","rCampaignName","rCampaignStatus","rChainIdImages","iconDark","totalRewardAmountString","groupSeparator","tokenSymbol","rCampaignReward","isShowProgressBar","Eligible","percentTradingNumber","isPassedVolume","isPassedNumberOfTrade","isQualified","wordBreak","display","alignSelf","CampaignListAndSearchContainer","upToMedium","CampaignList","CampaignListAndSearch","searchCampaign","setSearchCampaign","filteredCampaigns","trim","Search","searchValue","onSearch","newSearchCampaign","buttonBlack","placeholder","Boolean","useEffect","useSize","element","_a","_b","_c","Infinity","_d","isClient","_e","setState","props","setSize","iframe","offsetWidth","offsetHeight","onWindow","windowToListenOn","addEventListener","setTimeout","contentWindow","onLoad_1","removeEventListener","__spreadArrays","left","zIndex","toArray","children","leaderboardTableBodyBackgroundColorsByRank","LeaderboardLayout","refreshIn","above1200","rank","rankWidth","selectedCampaignLuckyWinners","useSelectedCampaignLeaderboardPageNumberManager","setCurrentPage","useSelectedCampaignLuckyWinnerPageNumber","currentPageLuckyWinner","setCurrentPageLuckyWinner","useSelectedCampaignLeaderboardLookupAddressManager","leaderboardSearchValue","setLeaderboardSearchValue","useSelectedCampaignLuckyWinnersLookupAddressManager","luckyWinnersSearchValue","setLuckyWinnersSearchValue","setSearchValue","totalItems","numberOfEligibleParticipants","totalRandomRewardItems","nWinners","refreshInMinute","refreshInSecond","isRewardShown","showRewardsColumn","leaderboardTableBody","rankings","isThisRankingEligible","totalPoint","rRewardAmount","rewardAmountUsd","equalTo","LeaderboardTableBody","noColumns","showMedal","rankNo","LeaderboardTableBodyItem","align","maxHeight","MedalImg","Gold","Silver","Bronze","InfoHelperWrapper","InfoHelper","placement","userAddress","formatNumberWithPrecisionRange","luckyWinnersTableBody","luckyWinner","p","rRewardsDistributedAt","distributedRewardsAt","formattedUpdatedAt","LeaderboardContainer","TextAndSearchContainer","TextContainer","SubTextSmall","CountdownContainer","CustomSearchContainer","LeaderboardTable","LeaderboardTableHeader","LeaderboardTableHeaderItem","Pagination","onPageChange","pageNumber","totalCount","pageSize","CAMPAIGN_LEADERBOARD_ITEM_PER_PAGE","SearchContainer","SearchWrapper","img","_assertThisInitialized","self","ReferenceError","ReCAPTCHA","_React$Component","subClass","superClass","_this","handleExpired","bind","handleErrored","handleChange","handleRecaptchaRef","create","constructor","__proto__","_proto","getValue","grecaptcha","_widgetId","getResponse","getWidgetId","execute","_executeRequested","executeAsync","_this2","Promise","resolve","reject","executionResolve","executionReject","reset","onExpired","onErrored","onChange","explicitRender","render","wrapper","document","sitekey","callback","tabindex","stoken","hl","badge","captcha","appendChild","componentDidMount","componentDidUpdate","componentWillUnmount","delayOfCaptchaIframeRemoving","temporaryNode","body","firstChild","removeChild","elem","_this$props","childProps","Component","isRequired","func","object","oneOf","defaultProps","SCRIPT_MAP","idCount","callbackName","makeAsyncScriptLoader","getScriptURL","options","recaptchaOptions","useRecaptchaNet","globalName","WrappedComponent","wrappedComponentName","AsyncScriptLoader","_Component","context","__scriptURL","asyncScriptLoaderGetScriptLoaderID","__scriptLoaderID","setupScriptURL","asyncScriptLoaderHandleLoad","asyncScriptOnLoad","asyncScriptLoaderTriggerOnScriptLoaded","mapEntry","loaded","Error","obsKey","observers","_this3","scriptURL","_options","scriptId","entry","errored","script","attribute","async","attributes","setAttribute","callObserverFuncAndRemoveObserver","observersMap","onload","observer","onerror","removeOnUnmount","allScripts","getElementsByTagName","parentNode","forwardedRef","ForwardedComponent","hoistStatics","RecaptchaWrapper","Background","ModalRegisterCampaignCaptcha","recaptchaRef","createRef","isRegisterCampaignCaptchaModalOpen","REGISTER_CAMPAIGN_CAPTCHA","toggleRegisterCampaignSuccessModal","useRegisterCampaignSuccessModalToggle","updateRecaptchaCampaignLoading","handleReCaptchaVerify","CAMPAIGN_BASE_URL","mutate","getListCampaign","bgColor","GOOGLE_RECAPTCHA_KEY","ModalRegisterCampaignSuccess","isRegisterCampaignSuccessModalOpen","REGISTER_CAMPAIGN_SUCCESS","RegisterCampaignBackground","Content","ResponsiveButtonPrimary","listChain","RegisterCampaignBg","white","oembed2iframe","html","substring","startIndex","endIndex","youtubeId","ModalSelectCampaign","isSelectCampaignModalOpen","SELECT_CAMPAIGN","toggleSelectCampaignModal","useSelectCampaignModalToggle","history","useHistory","getSlugUrlCampaign","LoaderParagraphs","marginBottom","RankDetailWrapper","RankDetail","UserStatus","isMobile","Campaign","activeTab","setActiveTab","toggleWalletModal","useWalletModalToggle","toggleShareModal","useToggleModal","SHARE","rules","termsAndConditions","otherDetails","rewardDetails","showRules","setShowRules","showTermsAndConditions","setShowTermsAndConditions","showOtherDetails","setShowOtherDetails","campaignDetailImageRef","campaignDetailMediaLoadedMap","setCampaignDetailMediaLoadedMap","isSelectedCampaignMediaLoaded","TabHowToWinContent","className","Button","HTMLWrapper","dangerouslySetInnerHTML","__html","Divider","TabRewardsContent","now","loadingCampaignData","loadingCampaignDataError","MINUTE_TO_REFRESH","campaignsRefreshIn","setCampaignsRefreshIn","useSWRConfig","useAppDispatch","useInterval","startTime","setSelectedCampaign","endTime","selectedCampaignLeaderboardPageNumber","selectedCampaignLeaderboardLookupAddress","getLeaderboard","LocalLoader","PageWrapper","CampaignContainer","CampaignDetail","CampaignDetailImageContainer","borderRadius","CampaignDetailImage","desktopBanner","mobileBanner","onLoad","onError","CampaignDetailHeader","ButtonContainer","flex","ShareModal","location","href","onShared","CAMPAIGN_SHARE_TRADING_CONTEST_CLICKED","CampaignDetailBoxGroup","CampaignDetailBoxGroupItem","gridColumn","getFormattedTimeFromSecond","YourTransactionButton","CampaignDetailTabRow","CampaignDetailTab","active","CampaignDetailContent","ButtonEmpty","upToLarge","ButtonLight","ClickableText","Dots","span","shine","keyframes","StyledPositionCard","Loading","Tab","ContentLoader","numberOfSeconds","showDetail","unit","second","estimatedRemainingMinutes","minute","estimatedRemainingHours","hour","estimatedRemainingDays","formattedEstimatedRemainingTime","showSecond","trunc","contractAddress","handler","estimateGasOption","to","getSigner","estimateGas","gasEstimate","cause","tmp","JSON","stringify","tag","captureException","level","extra","tags","sendTransactionOption","gasLimit","calculateGasMargin","eq","sendTransaction","getInspectTxSolanaUrl","Buffer","concat","serializeMessage","serialize","sendSolanaTransactions","encode","solanaWallet","swapData","swapTx","txs","setupTx","populateTx","result","signedSetupTx","signedSwapTx","count","group","info","groupEnd","signAllTransactions","signedTxs","txHashs","connection","sendRawTransaction","setupHash","SETUP","firstTxHash","arbitrary","total","mainTx","confirmTransaction","message","swapHash","endsWith","test","errorCode","slice"],"mappings":"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","file":"static/js/campaigns-page.e016e17f.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Clock = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"12 6 12 12 16 14\"\n  }));\n});\nClock.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nClock.displayName = 'Clock';\nexport default Clock;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar BarChart = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"20\",\n    x2: \"12\",\n    y2: \"10\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"18\",\n    y1: \"20\",\n    x2: \"18\",\n    y2: \"4\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"6\",\n    y1: \"20\",\n    x2: \"6\",\n    y2: \"16\"\n  }));\n});\nBarChart.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nBarChart.displayName = 'BarChart';\nexport default BarChart;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Users = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"9\",\n    cy: \"7\",\n    r: \"4\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23 21v-2a4 4 0 0 0-3-3.87\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16 3.13a4 4 0 0 1 0 7.75\"\n  }));\n});\nUsers.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nUsers.displayName = 'Users';\nexport default Users;","import { ReactNode } from 'react'\r\nimport { Flex, Text } from 'rebass'\r\nimport styled from 'styled-components'\r\n\r\nimport useTheme from 'hooks/useTheme'\r\n\r\nconst Wrapper = styled.div`\r\n  border-radius: 999px;\r\n  height: 6px;\r\n  background: rgba(182, 182, 182, 0.2);\r\n  position: relative;\r\n`\r\nconst Bar = styled.div<{ percent: number; color?: string }>`\r\n  border-radius: 999px;\r\n  height: 6px;\r\n  background: ${({ theme, color }) => color || theme.primary};\r\n  width: ${({ percent }) => percent}%;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 1;\r\n`\r\n\r\nexport default function ProgressBar({\r\n  percent,\r\n  color,\r\n  valueTextColor,\r\n  title,\r\n  value,\r\n}: {\r\n  title: string\r\n  value: ReactNode\r\n  percent: number\r\n  color?: string\r\n  valueTextColor?: string\r\n}) {\r\n  const theme = useTheme()\r\n  return (\r\n    <Flex flexDirection={'column'} style={{ gap: 5 }}>\r\n      <Flex justifyContent={'space-between'} fontSize={12} color={theme.subText} lineHeight={'normal'}>\r\n        {title} <Text color={valueTextColor || theme.subText}>{value}</Text>\r\n      </Flex>\r\n      <Wrapper>\r\n        <Bar percent={Math.min(100, percent)} color={color} />\r\n      </Wrapper>\r\n    </Flex>\r\n  )\r\n}\r\n","import { Trans } from '@lingui/macro'\r\nimport dayjs from 'dayjs'\r\nimport React, { useRef, useState } from 'react'\r\nimport { CheckCircle, Copy, ExternalLink, Info, X } from 'react-feather'\r\nimport { useSelector } from 'react-redux'\r\nimport { useMedia } from 'react-use'\r\nimport { Flex, Text } from 'rebass'\r\nimport styled, { css } from 'styled-components'\r\nimport useSWR from 'swr'\r\n\r\nimport Modal from 'components/Modal'\r\nimport { CAMPAIGN_YOUR_TRANSACTIONS_ITEM_PER_PAGE, SWR_KEYS } from 'constants/index'\r\nimport { NETWORKS_INFO } from 'constants/networks'\r\nimport { useActiveWeb3React } from 'hooks'\r\nimport useCopyClipboard from 'hooks/useCopyClipboard'\r\nimport useTheme from 'hooks/useTheme'\r\nimport { AppState } from 'state'\r\nimport { ApplicationModal } from 'state/application/actions'\r\nimport { useModalOpen, useToggleYourCampaignTransactionsModal } from 'state/application/hooks'\r\nimport { CampaignProofData } from 'state/campaigns/actions'\r\nimport { getEtherscanLink } from 'utils'\r\nimport getShortenAddress from 'utils/getShortenAddress'\r\n\r\nexport default function YourCampaignTransactionsModal() {\r\n  const theme = useTheme()\r\n  const isYourCampaignTransactionModalOpen = useModalOpen(ApplicationModal.YOUR_CAMPAIGN_TRANSACTIONS)\r\n  const toggleYourCampaignTransactionModal = useToggleYourCampaignTransactionsModal()\r\n\r\n  const { account } = useActiveWeb3React()\r\n  const [currentPage] = useState(1)\r\n\r\n  const above768 = useMedia('(min-width: 768px)')\r\n\r\n  const selectedCampaign = useSelector((state: AppState) => state.campaigns.selectedCampaign)\r\n  const { data: userCampaignTransactions } = useSWR<CampaignProofData[]>(\r\n    account && selectedCampaign\r\n      ? SWR_KEYS.getCampaignTransactions(\r\n          selectedCampaign.id,\r\n          CAMPAIGN_YOUR_TRANSACTIONS_ITEM_PER_PAGE,\r\n          CAMPAIGN_YOUR_TRANSACTIONS_ITEM_PER_PAGE * (currentPage - 1),\r\n          account,\r\n        )\r\n      : null,\r\n    async (url: string) => {\r\n      try {\r\n        const response = await fetch(url)\r\n        if (response.ok) {\r\n          const data = await response.json()\r\n          if (data && Array.isArray(data.data) && data.data.length) {\r\n            return data.data.map(\r\n              (item: any): CampaignProofData => ({\r\n                id: item.id,\r\n                chainId: parseInt(item.chainId),\r\n                utcTimestamp: new Date(item.time).getTime(),\r\n                txPoint: item.txPoint,\r\n                txHash: item.tx,\r\n              }),\r\n            )\r\n          }\r\n        }\r\n        return []\r\n      } catch (err) {\r\n        console.error(err)\r\n      }\r\n    },\r\n  )\r\n\r\n  const [isCopied, setCopied] = useCopyClipboard()\r\n  const copiedText = useRef<string>()\r\n\r\n  return (\r\n    <Modal isOpen={isYourCampaignTransactionModalOpen} onDismiss={toggleYourCampaignTransactionModal} maxWidth={900}>\r\n      <ModalContent>\r\n        <Flex justifyContent=\"space-between\" alignItems=\"center\" width=\"100%\">\r\n          <Title>\r\n            <Trans>Your Transactions ({userCampaignTransactions ? userCampaignTransactions.length : 0})</Trans>\r\n          </Title>\r\n          <X\r\n            color={theme.subText}\r\n            size={24}\r\n            onClick={toggleYourCampaignTransactionModal}\r\n            style={{ cursor: 'pointer' }}\r\n          />\r\n        </Flex>\r\n        <TableWrapper>\r\n          <TableHeader>\r\n            <TableHeaderItem>#</TableHeaderItem>\r\n            <TableHeaderItem>\r\n              <Trans>Txn Hash</Trans>\r\n            </TableHeaderItem>\r\n            <TableHeaderItem style={{ textAlign: above768 ? 'left' : 'center' }}>\r\n              <Trans>Local Time</Trans>\r\n            </TableHeaderItem>\r\n            <TableHeaderItem style={{ textAlign: 'right' }}>\r\n              <Trans>Points</Trans>\r\n            </TableHeaderItem>\r\n          </TableHeader>\r\n          <TableBodyWrapper>\r\n            {userCampaignTransactions && userCampaignTransactions.length === 0 && (\r\n              <Flex\r\n                flexDirection=\"column\"\r\n                alignItems=\"center\"\r\n                justifyContent=\"center\"\r\n                sx={{ minHeight: '20vh', padding: '0 8px' }}\r\n              >\r\n                <Info size={48} color={theme.subText} style={{ margin: '16px 0' }} />\r\n                <Text as=\"span\" textAlign=\"center\">\r\n                  <Trans>You haven&apos;t made any eligible transactions yet.</Trans>\r\n                </Text>\r\n                <Text as=\"span\" textAlign=\"center\" mt=\"8px\">\r\n                  <Trans>Read the rules for this campaign & start swapping!</Trans>\r\n                </Text>\r\n              </Flex>\r\n            )}\r\n            {userCampaignTransactions &&\r\n              userCampaignTransactions.map((ct, index) => (\r\n                <TableBody key={ct.id}>\r\n                  <TableBodyItem>{index + 1}</TableBodyItem>\r\n                  <TableBodyItem\r\n                    role=\"button\"\r\n                    onClick={() => {\r\n                      setCopied(ct.txHash)\r\n                      copiedText.current = ct.txHash\r\n                    }}\r\n                    style={{ cursor: 'pointer' }}\r\n                  >\r\n                    <img src={NETWORKS_INFO[ct.chainId].icon} alt=\"Network\" style={{ width: '16px' }} />\r\n                    <div>{getShortenAddress(ct.txHash)}</div>\r\n                    {above768 && (\r\n                      <>\r\n                        {isCopied && copiedText.current === ct.txHash ? (\r\n                          <CheckCircle size=\"14\" color={theme.subText} />\r\n                        ) : (\r\n                          <Copy size=\"14\" color={theme.subText} />\r\n                        )}\r\n                      </>\r\n                    )}\r\n\r\n                    <ExternalLink\r\n                      size=\"14\"\r\n                      color={theme.subText}\r\n                      onClick={e => {\r\n                        e.stopPropagation()\r\n                        window.open(getEtherscanLink(ct.chainId, ct.txHash, 'transaction'), '_blank')\r\n                      }}\r\n                    />\r\n                  </TableBodyItem>\r\n                  <TableBodyItem style={{ flexDirection: above768 ? 'row' : 'column' }}>\r\n                    <span>{dayjs(ct.utcTimestamp).format('DD/MM/YYYY')}</span>{' '}\r\n                    <span style={{ color: theme.subText }}>{dayjs(ct.utcTimestamp).format('(hh:mm:ss A)')}</span>\r\n                  </TableBodyItem>\r\n                  <TableBodyItem style={{ justifyContent: 'flex-end' }}>+{ct.txPoint}</TableBodyItem>\r\n                </TableBody>\r\n              ))}\r\n          </TableBodyWrapper>\r\n        </TableWrapper>\r\n      </ModalContent>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nconst ModalContent = styled(Flex)`\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  padding: 26px 20px 20px;\r\n  width: 100%;\r\n  background: ${({ theme }) => theme.tableHeader};\r\n`\r\n\r\nconst Title = styled(Text)`\r\n  font-weight: 500;\r\n  font-size: 20px;\r\n  line-height: 24px;\r\n\r\n  ${({ theme }) =>\r\n    theme.mediaWidth.upToSmall`${css`\r\n      font-size: 16px;\r\n      line-height: 20px;\r\n    `}`}\r\n`\r\n\r\nconst TableHeader = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 32px 2fr 2fr 1fr;\r\n  padding: 16px 20px;\r\n  background: ${({ theme }) => theme.background};\r\n  border-top-left-radius: 8px;\r\n  border-top-right-radius: 8px;\r\n\r\n  ${({ theme }) =>\r\n    theme.mediaWidth.upToSmall`${css`\r\n      border-radius: 0;\r\n      padding: 16px;\r\n      grid-template-columns: 16px 2fr 2fr 1fr;\r\n    `}`}\r\n`\r\n\r\nconst TableHeaderItem = styled.div`\r\n  text-transform: uppercase;\r\n  font-weight: 500;\r\n  font-size: 12px;\r\n  line-height: 16px;\r\n  color: ${({ theme }) => theme.subText};\r\n`\r\n\r\nconst TableBody = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 32px 2fr 2fr 1fr;\r\n  padding: 16px 20px;\r\n  border-bottom: 1px solid ${({ theme }) => theme.border};\r\n\r\n  ${({ theme }) =>\r\n    theme.mediaWidth.upToSmall`${css`\r\n      padding: 16px;\r\n      grid-template-columns: 16px 2fr 2fr 1fr;\r\n    `}`}\r\n`\r\n\r\nconst TableBodyItem = styled.div`\r\n  font-weight: 500;\r\n  font-size: 12px;\r\n  line-height: 16px;\r\n  color: ${({ theme }) => theme.text};\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n\r\n  ${({ theme }) =>\r\n    theme.mediaWidth.upToSmall`${css`\r\n      gap: 4px;\r\n    `}`}\r\n`\r\n\r\nconst TableWrapper = styled.div`\r\n  ${({ theme }) =>\r\n    theme.mediaWidth.upToSmall`${css`\r\n      margin: 0 -20px;\r\n    `}`}\r\n`\r\n\r\nconst TableBodyWrapper = styled.div`\r\n  overflow: auto;\r\n  max-height: 50vh;\r\n\r\n  &:hover {\r\n    ::-webkit-scrollbar-thumb {\r\n      background: ${({ theme }) => theme.disableText};\r\n      border-radius: 999px;\r\n    }\r\n  }\r\n\r\n  /* width */\r\n  ::-webkit-scrollbar {\r\n    display: unset;\r\n    width: 8px;\r\n    border-radius: 999px;\r\n  }\r\n\r\n  /* Track */\r\n  ::-webkit-scrollbar-track {\r\n    background: ${({ theme }) => theme.tableHeader};\r\n    border-radius: 999px;\r\n  }\r\n\r\n  /* Handle */\r\n  ::-webkit-scrollbar-thumb {\r\n    background: transparent;\r\n    border-radius: 999px;\r\n  }\r\n`\r\n","import { BigNumber } from '@ethersproject/bignumber'\r\nimport { ChainId } from '@kyberswap/ks-sdk-core'\r\nimport { t } from '@lingui/macro'\r\nimport axios from 'axios'\r\nimport { useMemo, useRef, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Flex, Text } from 'rebass'\r\nimport styled, { css } from 'styled-components'\r\n\r\nimport { ReactComponent as ChevronDown } from 'assets/svg/down.svg'\r\nimport { ButtonPrimary } from 'components/Button'\r\nimport { REWARD_SERVICE_API } from 'constants/env'\r\nimport { BIG_INT_ZERO, DEFAULT_SIGNIFICANT } from 'constants/index'\r\nimport { NETWORKS_INFO } from 'constants/networks'\r\nimport { useActiveWeb3React, useWeb3React } from 'hooks'\r\nimport { useChangeNetwork } from 'hooks/useChangeNetwork'\r\nimport useMixpanel, { MIXPANEL_TYPE } from 'hooks/useMixpanel'\r\nimport { useOnClickOutside } from 'hooks/useOnClickOutside'\r\nimport useTheme from 'hooks/useTheme'\r\nimport { Dots } from 'pages/Pool/styleds'\r\nimport { OptionsContainer } from 'pages/TrueSight/styled'\r\nimport { AppState } from 'state'\r\nimport {\r\n  CampaignData,\r\n  CampaignLeaderboard,\r\n  CampaignLeaderboardReward,\r\n  setCampaignData,\r\n  setSelectedCampaignLeaderboard,\r\n} from 'state/campaigns/actions'\r\nimport { useSetClaimingCampaignRewardId, useSwapNowHandler } from 'state/campaigns/hooks'\r\nimport { useTransactionAdder } from 'state/transactions/hooks'\r\nimport { TRANSACTION_TYPE } from 'state/transactions/type'\r\nimport { findTx } from 'utils'\r\nimport { sendEVMTransaction } from 'utils/sendTransaction'\r\n\r\ntype Size = 'small' | 'large'\r\nexport default function CampaignButtonWithOptions({\r\n  campaign,\r\n  leaderboard,\r\n  disabled = false,\r\n  type,\r\n  addTemporaryClaimedRefs,\r\n  size,\r\n}: {\r\n  campaign: CampaignData | undefined\r\n  leaderboard?: CampaignLeaderboard\r\n  disabled?: boolean\r\n  type: 'swap_now' | 'claim_rewards'\r\n  size: Size\r\n  addTemporaryClaimedRefs?: (claimedRefs: string[]) => void\r\n}) {\r\n  const theme = useTheme()\r\n  const [isShowNetworks, setIsShowNetworks] = useState(false)\r\n  const changeNetwork = useChangeNetwork()\r\n  const containerRef = useRef<HTMLButtonElement>(null)\r\n  useOnClickOutside(containerRef, () => setIsShowNetworks(false))\r\n  const { mixpanelHandler } = useMixpanel()\r\n\r\n  const chainIds: ChainId[] = campaign\r\n    ? campaign[type === 'swap_now' ? 'chainIds' : 'rewardChainIds'].split(',').map(Number)\r\n    : []\r\n\r\n  const { account } = useActiveWeb3React()\r\n  const { library } = useWeb3React()\r\n\r\n  const leaderboardInfo = leaderboard || campaign?.leaderboard\r\n\r\n  const refs: string[] = []\r\n  if (leaderboardInfo && leaderboardInfo.rewards) {\r\n    leaderboardInfo.rewards.forEach(reward => {\r\n      if (!reward.claimed && reward.rewardAmount.greaterThan(BIG_INT_ZERO)) {\r\n        refs.push(reward.ref)\r\n      }\r\n    })\r\n  }\r\n\r\n  const transactionsState = useSelector<AppState, AppState['transactions']>(state => state.transactions)\r\n  const {\r\n    selectedCampaign,\r\n    data: campaignData,\r\n    selectedCampaignLeaderboard,\r\n  } = useSelector((state: AppState) => state.campaigns)\r\n  const transactions = useMemo(\r\n    () => (campaign ? transactionsState[parseInt(campaign.rewardChainIds)] ?? {} : {}),\r\n    [transactionsState, campaign],\r\n  )\r\n  const [claimingCampaignRewardId, setClaimingCampaignRewardId] = useSetClaimingCampaignRewardId()\r\n  const [ref2Hash, setRef2Hash] = useState<{ [ref: string]: string }>({})\r\n  const claimRewardHashes = refs.map(ref => ref2Hash[ref]).filter(hash => !!hash)\r\n  const isClaimingThisCampaignRewards =\r\n    claimRewardHashes.some(hash => {\r\n      return transactions[hash] !== undefined && findTx(transactions, hash)?.receipt === undefined\r\n    }) || campaign?.id === claimingCampaignRewardId\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const updateCampaignStore = () => {\r\n    const rewards: CampaignLeaderboardReward[] = leaderboardInfo?.rewards?.map(rw => ({ ...rw, claimed: true })) ?? []\r\n\r\n    // update selected leaderboard of campaign\r\n    if (campaign?.id === selectedCampaign?.id && selectedCampaignLeaderboard) {\r\n      const newLeaderboard = { ...selectedCampaignLeaderboard, rewards }\r\n      dispatch(\r\n        setSelectedCampaignLeaderboard({\r\n          leaderboard: newLeaderboard,\r\n        }),\r\n      )\r\n    }\r\n\r\n    // update leaderboard of list campaign\r\n    const campaigns = campaignData?.map((el: CampaignData) => {\r\n      if (el.id === campaign?.id && el.leaderboard) return { ...el, leaderboard: { ...el.leaderboard, rewards } }\r\n      return el\r\n    })\r\n    dispatch(setCampaignData({ campaigns }))\r\n  }\r\n\r\n  const addTransactionWithType = useTransactionAdder()\r\n\r\n  const claimRewards = async (claimChainId: ChainId) => {\r\n    if (!account || !library || !campaign || !leaderboardInfo) return\r\n    setClaimingCampaignRewardId(campaign.id)\r\n    const url = REWARD_SERVICE_API + '/rewards/claim'\r\n\r\n    const data = {\r\n      wallet: account.toLowerCase(),\r\n      chainId: campaign.rewardChainIds,\r\n      clientCode: 'campaign',\r\n      // ref: refs.join(','),\r\n      ref: '',\r\n    }\r\n    let response: any\r\n    try {\r\n      response = await axios({ method: 'POST', url, data })\r\n    } catch (err) {\r\n      console.error(err)\r\n      setClaimingCampaignRewardId(null)\r\n    }\r\n\r\n    if (response?.data?.code === 200000) {\r\n      const rewardContractAddress = response.data.data.ContractAddress\r\n      const encodedData = response.data.data.EncodedData\r\n      try {\r\n        await sendEVMTransaction(\r\n          account,\r\n          library,\r\n          rewardContractAddress,\r\n          encodedData,\r\n          BigNumber.from(0),\r\n          async transactionResponse => {\r\n            const accumulatedUnclaimedRewards = leaderboardInfo?.rewards\r\n              .filter(reward => !reward.claimed)\r\n              .reduce((acc: { [p: string]: CampaignLeaderboardReward }, value) => {\r\n                const key = value.token.chainId + '_' + value.token.address\r\n                if (acc[key] === undefined) {\r\n                  acc[key] = value\r\n                } else {\r\n                  acc[key] = {\r\n                    ...value,\r\n                    rewardAmount: value.rewardAmount.add(acc[key].rewardAmount),\r\n                  }\r\n                }\r\n                return acc\r\n              }, {})\r\n            const rewardString = Object.values(accumulatedUnclaimedRewards ?? {})\r\n              .map(reward => reward.rewardAmount.toSignificant(DEFAULT_SIGNIFICANT) + ' ' + reward.token.symbol)\r\n              .join(' ' + t`and` + ' ')\r\n            addTransactionWithType({\r\n              hash: transactionResponse.hash,\r\n              type: TRANSACTION_TYPE.CLAIM,\r\n              desiredChainId: claimChainId,\r\n              summary: `${rewardString} from campaign \"${campaign?.name}\"`,\r\n            })\r\n            const newRef2Hash = refs\r\n              .filter(ref => !!ref)\r\n              .reduce((acc, ref) => ({ ...acc, [ref]: transactionResponse.hash }), {})\r\n            setRef2Hash(prev => ({ ...prev, ...newRef2Hash }))\r\n            const transactionReceipt = await transactionResponse.wait()\r\n            if (transactionReceipt.status === 1) {\r\n              addTemporaryClaimedRefs && addTemporaryClaimedRefs(refs)\r\n              updateCampaignStore()\r\n            }\r\n          },\r\n        )\r\n      } catch (err) {\r\n        console.error(err)\r\n        setClaimingCampaignRewardId(null)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleSwapNow = useSwapNowHandler()\r\n\r\n  return (\r\n    <StyledPrimaryButton\r\n      size={size}\r\n      onClick={e => {\r\n        e.stopPropagation()\r\n        setIsShowNetworks(prev => !prev)\r\n      }}\r\n      disabled={disabled || isClaimingThisCampaignRewards}\r\n      ref={containerRef}\r\n    >\r\n      {type === 'swap_now' ? t`Swap now` : isClaimingThisCampaignRewards ? t`Claiming Rewards` : t`Claim Rewards`}\r\n      {isClaimingThisCampaignRewards && <Dots />}\r\n      <ChevronDown style={{ position: 'absolute', top: '50%', right: '12px', transform: 'translateY(-50%)' }} />\r\n      {isShowNetworks && (\r\n        <OptionsContainer>\r\n          {chainIds.map(chainId => {\r\n            return (\r\n              <Flex\r\n                key={chainId}\r\n                alignItems=\"center\"\r\n                onClick={async () => {\r\n                  if (type === 'swap_now') {\r\n                    handleSwapNow(chainId)\r\n                  } else {\r\n                    mixpanelHandler(MIXPANEL_TYPE.CAMPAIGN_CLAIM_REWARDS_CLICKED, { campaign_name: campaign?.name })\r\n                    await changeNetwork(chainId, () => claimRewards(chainId))\r\n                  }\r\n                }}\r\n              >\r\n                <img src={NETWORKS_INFO[chainId].icon} alt=\"Network\" style={{ minWidth: '16px', width: '16px' }} />\r\n                <Text marginLeft=\"8px\" color={theme.subText} fontSize=\"12px\" fontWeight={500} minWidth=\"fit-content\">\r\n                  {type === 'swap_now'\r\n                    ? t`Swap on ${NETWORKS_INFO[chainId].name}`\r\n                    : t`Claim on ${NETWORKS_INFO[chainId].name}`}\r\n                </Text>\r\n              </Flex>\r\n            )\r\n          })}\r\n        </OptionsContainer>\r\n      )}\r\n    </StyledPrimaryButton>\r\n  )\r\n}\r\n\r\nexport const StyledPrimaryButton = styled(ButtonPrimary)<{ size: Size }>`\r\n  position: relative;\r\n  font-size: 14px;\r\n  padding: 12px 48px;\r\n  min-width: fit-content;\r\n  height: ${({ size }) => (size === 'large' ? '44px' : '35px')};\r\n  font-weight: 500;\r\n  color: ${({ theme }) => theme.textReverse};\r\n  border: none;\r\n  z-index: unset;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    ${css`\r\n      flex: 1;\r\n    `}\r\n  `};\r\n`\r\n","import { Trans } from '@lingui/macro'\r\nimport React from 'react'\r\n\r\nimport { Dots } from 'components/swapv2/styleds'\r\nimport useMixpanel, { MIXPANEL_TYPE } from 'hooks/useMixpanel'\r\nimport { StyledPrimaryButton } from 'pages/Campaign/CampaignButtonWithOptions'\r\nimport { useRegisterCampaignCaptchaModalToggle } from 'state/application/hooks'\r\nimport { CampaignData } from 'state/campaigns/actions'\r\nimport { useRecaptchaCampaignManager } from 'state/campaigns/hooks'\r\n\r\ninterface CampaignButtonEnterNowProps {\r\n  size: 'small' | 'large'\r\n  campaign?: CampaignData\r\n}\r\n\r\nexport default function CampaignButtonEnterNow({ size, campaign }: CampaignButtonEnterNowProps) {\r\n  const [recaptchaCampaign, updateRecaptchaCampaignId] = useRecaptchaCampaignManager()\r\n  const toggleRegisterCampaignCaptchaModal = useRegisterCampaignCaptchaModalToggle()\r\n  const { mixpanelHandler } = useMixpanel()\r\n\r\n  const isVerifyingToken = campaign && campaign.id === recaptchaCampaign.id && recaptchaCampaign.loading\r\n\r\n  if (campaign === undefined) return null\r\n\r\n  return (\r\n    <>\r\n      <StyledPrimaryButton\r\n        disabled={isVerifyingToken}\r\n        size={size}\r\n        onClick={e => {\r\n          e.stopPropagation()\r\n          mixpanelHandler(MIXPANEL_TYPE.CAMPAIGN_ENTER_NOW_CLICKED, { campaign_name: campaign?.name })\r\n          updateRecaptchaCampaignId(campaign.id)\r\n          toggleRegisterCampaignCaptchaModal()\r\n        }}\r\n      >\r\n        <Trans>Enter Now</Trans>\r\n        {isVerifyingToken && <Dots />}\r\n      </StyledPrimaryButton>\r\n    </>\r\n  )\r\n}\r\n","/**\r\n * These actions are: Enter Now -> Swap Now -> Claim\r\n */\r\nimport { memo } from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport { BIG_INT_ZERO } from 'constants/index'\r\nimport { useActiveWeb3React } from 'hooks'\r\nimport useTemporaryClaimedRefsManager from 'hooks/campaigns/useTemporaryClaimedRefsManager'\r\nimport CampaignButtonEnterNow from 'pages/Campaign/CampaignButtonEnterNow'\r\nimport CampaignButtonWithOptions from 'pages/Campaign/CampaignButtonWithOptions'\r\nimport { AppState } from 'state'\r\nimport {\r\n  CampaignData,\r\n  CampaignLeaderboard,\r\n  CampaignState,\r\n  CampaignStatus,\r\n  CampaignUserInfoStatus,\r\n} from 'state/campaigns/actions'\r\n\r\ntype Size = 'small' | 'large'\r\n\r\ninterface CampaignActionsProps {\r\n  campaign?: CampaignData\r\n  leaderboard?: CampaignLeaderboard\r\n  size?: Size\r\n  hideWhenDisabled?: boolean\r\n}\r\n\r\nconst CampaignActions = ({ campaign, leaderboard, size = 'large', hideWhenDisabled = false }: CampaignActionsProps) => {\r\n  const { account } = useActiveWeb3React()\r\n\r\n  const { selectedCampaign, selectedCampaignLeaderboard } = useSelector((state: AppState) => state.campaigns)\r\n\r\n  const campaignInfo = campaign || selectedCampaign\r\n  const leaderboardInfo = leaderboard || campaign?.leaderboard || selectedCampaignLeaderboard\r\n\r\n  const [temporaryClaimedRefs, addTemporaryClaimedRefs] = useTemporaryClaimedRefsManager()\r\n\r\n  if (!campaignInfo || !account || !leaderboardInfo) return null\r\n\r\n  if (\r\n    campaignInfo.status === CampaignStatus.ONGOING &&\r\n    campaignInfo?.userInfo?.status === CampaignUserInfoStatus.Ineligible\r\n  ) {\r\n    return <CampaignButtonEnterNow size={size} campaign={campaignInfo} />\r\n  }\r\n\r\n  if (campaignInfo.status === CampaignStatus.UPCOMING) {\r\n    return null\r\n  }\r\n\r\n  if (campaignInfo.status === CampaignStatus.ONGOING) {\r\n    return (\r\n      <CampaignButtonWithOptions size={size} campaign={campaignInfo} leaderboard={leaderboardInfo} type=\"swap_now\" />\r\n    )\r\n  }\r\n\r\n  if (\r\n    campaignInfo.status === CampaignStatus.ENDED &&\r\n    (campaignInfo.campaignState === CampaignState.CampaignStateReady ||\r\n      campaignInfo.campaignState === CampaignState.CampaignStateFinalizedLeaderboard)\r\n  ) {\r\n    return hideWhenDisabled ? null : (\r\n      <CampaignButtonWithOptions\r\n        size={size}\r\n        campaign={campaignInfo}\r\n        leaderboard={leaderboardInfo}\r\n        type=\"claim_rewards\"\r\n        disabled\r\n      />\r\n    )\r\n  }\r\n\r\n  if (campaignInfo.campaignState === CampaignState.CampaignStateDistributedRewards) {\r\n    let isUserClaimedRewardsInThisCampaign = true\r\n    leaderboardInfo?.rewards?.forEach(reward => {\r\n      if (\r\n        reward.rewardAmount.greaterThan(BIG_INT_ZERO) &&\r\n        !reward.claimed &&\r\n        !temporaryClaimedRefs.includes(reward.ref)\r\n      ) {\r\n        isUserClaimedRewardsInThisCampaign = false\r\n      }\r\n    })\r\n\r\n    return isUserClaimedRewardsInThisCampaign && hideWhenDisabled ? null : (\r\n      <CampaignButtonWithOptions\r\n        size={size}\r\n        campaign={campaignInfo}\r\n        leaderboard={leaderboardInfo}\r\n        type=\"claim_rewards\"\r\n        disabled={isUserClaimedRewardsInThisCampaign}\r\n        addTemporaryClaimedRefs={addTemporaryClaimedRefs}\r\n      />\r\n    )\r\n  }\r\n\r\n  return null\r\n}\r\n\r\nexport default memo(CampaignActions)\r\n","/**\r\n * After claiming rewards, it may take a while for the campaign service to sync data from the subgraph.\r\n * So we use this hook to disable it when waiting backend to be synced.\r\n *\r\n * This hook should be used after claim reward transaction success.\r\n */\r\nimport { useCallback, useMemo } from 'react'\r\nimport { useLocalStorage } from 'react-use'\r\n\r\nexport default function useTemporaryClaimedRefsManager(): [string[], (claimedRefs: string[]) => void] {\r\n  const [claimedRefs, setClaimedRefs] = useLocalStorage<string[]>('campaign-claimed-refs', [])\r\n\r\n  const onAddClaimedRefs = useCallback(\r\n    (claimedRefs: string[]) => {\r\n      setClaimedRefs(prev => {\r\n        const newState = [...(prev ?? []), ...claimedRefs]\r\n        return newState\r\n      })\r\n    },\r\n    [setClaimedRefs],\r\n  )\r\n\r\n  return useMemo(() => {\r\n    return [claimedRefs ?? [], onAddClaimedRefs]\r\n  }, [claimedRefs, onAddClaimedRefs])\r\n}\r\n","import { ChainId, Fraction } from '@kyberswap/ks-sdk-core'\r\nimport { Trans, t } from '@lingui/macro'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { parseUnits } from 'ethers/lib/utils'\r\nimport JSBI from 'jsbi'\r\nimport { rgba } from 'polished'\r\nimport { memo } from 'react'\r\nimport { Check } from 'react-feather'\r\nimport { Flex, Text } from 'rebass'\r\nimport styled, { css } from 'styled-components'\r\n\r\nimport ProgressBar from 'components/ProgressBar'\r\nimport { DEFAULT_SIGNIFICANT, RESERVE_USD_DECIMALS } from 'constants/index'\r\nimport { NETWORKS_INFO } from 'constants/networks'\r\nimport useTheme from 'hooks/useTheme'\r\nimport { CampaignData, CampaignStatus, CampaignUserInfoStatus } from 'state/campaigns/actions'\r\nimport { useIsDarkMode } from 'state/user/hooks'\r\n\r\nimport CampaignActions from './CampaignActions'\r\n\r\nconst CampaignItemWrapper = styled.div<{ selected?: boolean }>`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  padding: 20px;\r\n  cursor: pointer;\r\n  border-bottom: 1px solid ${({ theme }) => theme.border};\r\n  :last-child {\r\n    border-bottom: none;\r\n  }\r\n  position: relative;\r\n  background: ${({ theme, selected }) => (selected ? rgba(theme.bg8, 0.12) : 'transparent')};\r\n\r\n  ${({ theme, selected }) =>\r\n    selected &&\r\n    css`\r\n      &:hover {\r\n        background: darken(0.01, ${theme.background});\r\n      }\r\n    `}\r\n`\r\n\r\nconst CampaignStatusText = styled.div<{ status: CampaignStatus }>`\r\n  font-size: 12px;\r\n  line-height: 10px;\r\n  padding: 5px 8px;\r\n  text-align: center;\r\n  height: fit-content;\r\n  border-radius: 24px;\r\n  white-space: nowrap;\r\n\r\n  ${({ theme, status }) => {\r\n    const color = {\r\n      [CampaignStatus.UPCOMING]: theme.warning,\r\n      [CampaignStatus.ONGOING]: theme.primary,\r\n      [CampaignStatus.ENDED]: theme.red,\r\n    }[status]\r\n    return css`\r\n      background: ${rgba(color, 0.2)};\r\n      color: ${color};\r\n    `\r\n  }}\r\n`\r\n\r\nconst Container = styled.div`\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 12px;\r\n  display: flex;\r\n`\r\n\r\ninterface CampaignItemProps {\r\n  isSelected: boolean\r\n  campaign: CampaignData\r\n  onSelectCampaign: (data: CampaignData) => void\r\n}\r\n\r\nconst CampaignItem = ({ campaign, onSelectCampaign, isSelected }: CampaignItemProps) => {\r\n  const { account } = useWeb3React()\r\n  const theme = useTheme()\r\n  const isDarkMode = useIsDarkMode()\r\n  const isRewardInUSD = campaign.rewardDistribution[0]?.rewardInUSD\r\n  let totalRewardAmount: Fraction = new Fraction(0)\r\n  let percentTradingVolume = 0\r\n  const {\r\n    tradingNumberRequired,\r\n    tradingVolumeRequired,\r\n    userInfo: { tradingNumber, tradingVolume } = { tradingNumber: 0, tradingVolume: 0 },\r\n  } = campaign\r\n\r\n  try {\r\n    totalRewardAmount = campaign.rewardDistribution.reduce((acc, value) => {\r\n      return acc.add(\r\n        new Fraction(\r\n          parseUnits(value.amount || '0', RESERVE_USD_DECIMALS).toString(),\r\n          isRewardInUSD\r\n            ? JSBI.exponentiate(JSBI.BigInt(10), JSBI.BigInt(RESERVE_USD_DECIMALS))\r\n            : JSBI.exponentiate(JSBI.BigInt(10), JSBI.BigInt((value?.token?.decimals ?? 18) + RESERVE_USD_DECIMALS)),\r\n        ),\r\n      )\r\n    }, new Fraction(0))\r\n    if (tradingVolumeRequired) {\r\n      percentTradingVolume = Math.floor((tradingVolume / tradingVolumeRequired) * 100)\r\n    }\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n\r\n  const isOngoing = campaign.status === CampaignStatus.ONGOING\r\n  const rCampaignName = campaign.name\r\n  const rCampaignStatus = campaign.status === CampaignStatus.UPCOMING ? t`Upcoming` : isOngoing ? t`Ongoing` : t`Ended`\r\n  const rChainIdImages = campaign?.chainIds?.split?.(',').map(chainId => {\r\n    const { iconDark, icon, name } = NETWORKS_INFO[chainId as unknown as ChainId]\r\n    return (\r\n      <img\r\n        key={chainId}\r\n        src={isDarkMode && iconDark ? iconDark : icon}\r\n        alt={name + ' icon'}\r\n        style={{ width: '16px', minWidth: '16px', height: '16px', minHeight: '16px' }}\r\n      />\r\n    )\r\n  })\r\n  const totalRewardAmountString = totalRewardAmount.toSignificant(DEFAULT_SIGNIFICANT, { groupSeparator: ',' })\r\n  const tokenSymbol = campaign.rewardDistribution[0]?.token?.symbol\r\n  const rCampaignReward = isRewardInUSD\r\n    ? t`$${totalRewardAmountString} in ${tokenSymbol}`\r\n    : `${totalRewardAmountString} ${tokenSymbol}`\r\n\r\n  const isShowProgressBar = isOngoing && account && campaign?.userInfo?.status === CampaignUserInfoStatus.Eligible\r\n  const percentTradingNumber = !tradingNumberRequired ? 0 : Math.floor((tradingNumber / tradingNumberRequired) * 100)\r\n  const isPassedVolume = percentTradingVolume >= 100\r\n  const isPassedNumberOfTrade = percentTradingNumber >= 100\r\n  const isQualified =\r\n    (isPassedVolume && isPassedNumberOfTrade) ||\r\n    (isPassedVolume && !tradingNumberRequired) ||\r\n    (isPassedNumberOfTrade && !tradingVolumeRequired)\r\n\r\n  return (\r\n    <CampaignItemWrapper onClick={() => onSelectCampaign(campaign)} selected={isSelected}>\r\n      <Container>\r\n        <Flex style={{ gap: '8px' }}>{rChainIdImages}</Flex>\r\n        <CampaignStatusText status={campaign.status}>{rCampaignStatus}</CampaignStatusText>\r\n      </Container>\r\n\r\n      <Container>\r\n        <Text fontWeight={500} color={theme.text} style={{ wordBreak: 'break-word' }}>\r\n          {rCampaignName}\r\n        </Text>\r\n      </Container>\r\n\r\n      <Container>\r\n        <Text fontSize=\"12px\">\r\n          <Trans>Total Reward: {rCampaignReward}</Trans>\r\n        </Text>\r\n      </Container>\r\n\r\n      {isQualified ? (\r\n        <Flex style={{ gap: 10 }} flexDirection=\"column\">\r\n          <Flex justifyContent={'space-between'} alignItems=\"center\">\r\n            <Text fontSize={12}>\r\n              <Trans>Condition(s) to qualify:</Trans>\r\n            </Text>\r\n            <CampaignStatusText\r\n              status={CampaignStatus.ONGOING}\r\n              style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: 2,\r\n                alignSelf: 'flex-end',\r\n                padding: '2px 7px',\r\n              }}\r\n            >\r\n              <Check width={17} height={17} />\r\n              <Trans>Qualified</Trans>\r\n            </CampaignStatusText>\r\n          </Flex>\r\n        </Flex>\r\n      ) : isShowProgressBar ? (\r\n        <Flex style={{ gap: 10 }} flexDirection=\"column\">\r\n          <Text fontSize={12}>\r\n            <Trans>Condition(s) to qualify:</Trans>\r\n          </Text>\r\n          {tradingVolumeRequired > 0 && (\r\n            <ProgressBar\r\n              title={t`Your Trading Volume`}\r\n              percent={percentTradingVolume}\r\n              value={isPassedVolume ? <Check width={17} height={17} /> : `${percentTradingVolume}%`}\r\n              valueTextColor={isPassedVolume ? theme.primary : theme.subText}\r\n              color={isPassedVolume ? theme.primary : theme.warning}\r\n            />\r\n          )}\r\n          {tradingNumberRequired > 1 && (\r\n            <ProgressBar\r\n              title={t`Your Number of Trades`}\r\n              percent={percentTradingNumber}\r\n              value={isPassedNumberOfTrade ? <Check width={17} height={17} /> : `${percentTradingNumber}%`}\r\n              valueTextColor={isPassedNumberOfTrade ? theme.primary : theme.subText}\r\n              color={isPassedNumberOfTrade ? theme.primary : theme.warning}\r\n            />\r\n          )}\r\n        </Flex>\r\n      ) : null}\r\n\r\n      {!isShowProgressBar && (\r\n        <div>\r\n          <CampaignActions campaign={campaign} leaderboard={campaign.leaderboard} size=\"small\" hideWhenDisabled />\r\n        </div>\r\n      )}\r\n    </CampaignItemWrapper>\r\n  )\r\n}\r\n\r\nexport default memo(CampaignItem)\r\n","import { Trans, t } from '@lingui/macro'\r\nimport { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Text } from 'rebass'\r\nimport styled from 'styled-components'\r\n\r\nimport Search from 'components/Search'\r\nimport useTheme from 'hooks/useTheme'\r\nimport { AppState } from 'state'\r\nimport { CampaignData } from 'state/campaigns/actions'\r\n\r\nimport CampaignItem from './CampaignItem'\r\n\r\nconst CampaignListAndSearchContainer = styled.div`\r\n  width: 100%;\r\n  background: ${({ theme }) => theme.background};\r\n  border-radius: 20px;\r\n  padding: 24px 20px 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    background: ${({ theme }) => theme.tableHeader};\r\n    border-radius: 0;\r\n  `}\r\n`\r\n\r\nconst CampaignList = styled.div`\r\n  flex: 1 1 0; // scroll\r\n  overflow-y: auto;\r\n  width: calc(100% + 40px);\r\n  margin: 0 -20px;\r\n  border-top: 1px solid ${({ theme }) => theme.border};\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n   flex: 1;\r\n  `}\r\n  &::-webkit-scrollbar {\r\n    display: block;\r\n    width: 4px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    background: ${({ theme }) => theme.disableText};\r\n  }\r\n`\r\n\r\ninterface CampaignListAndSearchProps {\r\n  onSelectCampaign: (campaign: CampaignData) => void\r\n}\r\n\r\nconst CampaignListAndSearch = ({ onSelectCampaign }: CampaignListAndSearchProps) => {\r\n  const [searchCampaign, setSearchCampaign] = useState('')\r\n  const theme = useTheme()\r\n\r\n  const { data: campaigns, selectedCampaign } = useSelector((state: AppState) => state.campaigns)\r\n\r\n  const filteredCampaigns = campaigns.filter(item =>\r\n    item.name.toLowerCase().includes(searchCampaign.trim().toLowerCase()),\r\n  )\r\n\r\n  return (\r\n    <CampaignListAndSearchContainer>\r\n      <Text fontSize=\"20px\" lineHeight=\"24px\" fontWeight={500}>\r\n        <Trans>Campaigns</Trans>\r\n      </Text>\r\n      <Search\r\n        searchValue={searchCampaign}\r\n        onSearch={(newSearchCampaign: string) => setSearchCampaign(newSearchCampaign)}\r\n        style={{ background: theme.buttonBlack, width: '100%' }}\r\n        placeholder={t`Search for campaign`}\r\n      />\r\n      <CampaignList>\r\n        {filteredCampaigns.map((campaign, index) => (\r\n          <CampaignItem\r\n            campaign={campaign}\r\n            onSelectCampaign={onSelectCampaign}\r\n            key={index}\r\n            isSelected={Boolean(selectedCampaign && selectedCampaign.id === campaign.id)}\r\n          />\r\n        ))}\r\n      </CampaignList>\r\n    </CampaignListAndSearchContainer>\r\n  )\r\n}\r\n\r\nexport default CampaignListAndSearch\r\n","import { __spreadArrays } from \"tslib\";\nimport * as React from 'react';\nimport { isClient } from './util';\nvar useState = React.useState, useEffect = React.useEffect, useRef = React.useRef;\nvar DRAF = function (callback) { return setTimeout(callback, 35); };\nvar useSize = function (element, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.width, width = _c === void 0 ? Infinity : _c, _d = _b.height, height = _d === void 0 ? Infinity : _d;\n    if (!isClient) {\n        return [typeof element === 'function' ? element({ width: width, height: height }) : element, { width: width, height: height }];\n    }\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var _e = useState({ width: width, height: height }), state = _e[0], setState = _e[1];\n    if (typeof element === 'function') {\n        element = element(state);\n    }\n    var style = element.props.style || {};\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var ref = useRef(null);\n    var window = null;\n    var setSize = function () {\n        var iframe = ref.current;\n        var size = iframe\n            ? {\n                width: iframe.offsetWidth,\n                height: iframe.offsetHeight,\n            }\n            : { width: width, height: height };\n        setState(size);\n    };\n    var onWindow = function (windowToListenOn) {\n        windowToListenOn.addEventListener('resize', setSize);\n        DRAF(setSize);\n    };\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(function () {\n        var iframe = ref.current;\n        if (!iframe) {\n            // iframe will be undefined if component is already unmounted\n            return;\n        }\n        if (iframe.contentWindow) {\n            window = iframe.contentWindow;\n            onWindow(window);\n        }\n        else {\n            var onLoad_1 = function () {\n                iframe.removeEventListener('load', onLoad_1);\n                window = iframe.contentWindow;\n                onWindow(window);\n            };\n            iframe.addEventListener('load', onLoad_1);\n        }\n        return function () {\n            if (window && window.removeEventListener) {\n                window.removeEventListener('resize', setSize);\n            }\n        };\n    }, []);\n    style.position = 'relative';\n    var sized = React.cloneElement.apply(React, __spreadArrays([element, { style: style }], __spreadArrays([\n        React.createElement('iframe', {\n            ref: ref,\n            style: {\n                background: 'transparent',\n                border: 'none',\n                height: '100%',\n                left: 0,\n                position: 'absolute',\n                top: 0,\n                width: '100%',\n                zIndex: -1,\n            },\n        })\n    ], React.Children.toArray(element.props.children))));\n    return [sized, state];\n};\nexport default useSize;\n","import { Trans, t } from '@lingui/macro'\r\nimport dayjs from 'dayjs'\r\nimport { rgba } from 'polished'\r\nimport { useEffect } from 'react'\r\nimport { Clock } from 'react-feather'\r\nimport { useSelector } from 'react-redux'\r\nimport { useMedia, useSize } from 'react-use'\r\nimport { Flex, Text } from 'rebass'\r\nimport styled, { css } from 'styled-components'\r\n\r\nimport Bronze from 'assets/svg/bronze_icon.svg'\r\nimport Gold from 'assets/svg/gold_icon.svg'\r\nimport Silver from 'assets/svg/silver_icon.svg'\r\nimport InfoHelper from 'components/InfoHelper'\r\nimport Pagination from 'components/Pagination'\r\nimport Search, { Container as SearchContainer, Wrapper as SearchWrapper } from 'components/Search'\r\nimport { BIG_INT_ZERO, CAMPAIGN_LEADERBOARD_ITEM_PER_PAGE, DEFAULT_SIGNIFICANT } from 'constants/index'\r\nimport useTheme from 'hooks/useTheme'\r\nimport { AppState } from 'state'\r\nimport { CampaignState, CampaignStatus, RewardRandom } from 'state/campaigns/actions'\r\nimport {\r\n  useSelectedCampaignLeaderboardLookupAddressManager,\r\n  useSelectedCampaignLeaderboardPageNumberManager,\r\n  useSelectedCampaignLuckyWinnerPageNumber,\r\n  useSelectedCampaignLuckyWinnersLookupAddressManager,\r\n} from 'state/campaigns/hooks'\r\nimport { formatNumberWithPrecisionRange } from 'utils'\r\nimport getShortenAddress from 'utils/getShortenAddress'\r\n\r\nconst leaderboardTableBodyBackgroundColorsByRank: { [p: string]: string } = {\r\n  1: `linear-gradient(90deg, rgba(255, 204, 102, 0.25) 0%, rgba(255, 204, 102, 0) 54.69%, rgba(255, 204, 102, 0) 100%)`,\r\n  2: `linear-gradient(90deg, rgba(224, 224, 224, 0.25) 0%, rgba(224, 224, 224, 0) 54.69%, rgba(224, 224, 224, 0) 100%)`,\r\n  3: `linear-gradient(90deg, rgba(255, 152, 56, 0.25) 0%, rgba(255, 152, 56, 0) 54.69%, rgba(255, 152, 56, 0) 100%)`,\r\n}\r\n\r\nexport default function LeaderboardLayout({\r\n  type,\r\n  refreshIn,\r\n}: {\r\n  type: 'leaderboard' | 'lucky_winner'\r\n  refreshIn: number\r\n}) {\r\n  const above1200 = useMedia('(min-width: 1200px)')\r\n  const theme = useTheme()\r\n  const [rank, { width: rankWidth }] = useSize(() => (\r\n    <span>\r\n      <Trans>Rank</Trans>\r\n    </span>\r\n  ))\r\n\r\n  const { selectedCampaignLeaderboard, selectedCampaignLuckyWinners, selectedCampaign } = useSelector(\r\n    (state: AppState) => state.campaigns,\r\n  )\r\n\r\n  const [currentPage, setCurrentPage] = useSelectedCampaignLeaderboardPageNumberManager()\r\n  const [currentPageLuckyWinner, setCurrentPageLuckyWinner] = useSelectedCampaignLuckyWinnerPageNumber()\r\n  const [leaderboardSearchValue, setLeaderboardSearchValue] = useSelectedCampaignLeaderboardLookupAddressManager()\r\n  const [luckyWinnersSearchValue, setLuckyWinnersSearchValue] = useSelectedCampaignLuckyWinnersLookupAddressManager()\r\n  const [searchValue, setSearchValue] =\r\n    type === 'leaderboard'\r\n      ? [leaderboardSearchValue, setLeaderboardSearchValue]\r\n      : [luckyWinnersSearchValue, setLuckyWinnersSearchValue]\r\n\r\n  let totalItems = 0\r\n  if (type === 'leaderboard') {\r\n    if (selectedCampaignLeaderboard) {\r\n      totalItems = leaderboardSearchValue ? 1 : selectedCampaignLeaderboard.numberOfEligibleParticipants\r\n    }\r\n  }\r\n  if (type === 'lucky_winner') {\r\n    if (selectedCampaign && selectedCampaignLeaderboard) {\r\n      const randomRewards = selectedCampaign.rewardDistribution.filter(reward => reward.type === 'Random')\r\n      const totalRandomRewardItems = randomRewards.reduce(\r\n        (acc, reward) => acc + ((reward as RewardRandom).nWinners ?? 0),\r\n        0,\r\n      )\r\n\r\n      totalItems = searchValue\r\n        ? 1\r\n        : Math.min(totalRandomRewardItems, selectedCampaignLeaderboard.numberOfEligibleParticipants)\r\n    }\r\n  }\r\n\r\n  const refreshInMinute = Math.floor(refreshIn / 60)\r\n  const refreshInSecond = refreshIn - refreshInMinute * 60\r\n\r\n  const isRewardShown = Boolean(selectedCampaign && selectedCampaign.isRewardShown)\r\n  const showRewardsColumn = (type === 'leaderboard' && isRewardShown) || type === 'lucky_winner'\r\n\r\n  useEffect(() => {\r\n    setCurrentPage(0)\r\n    setCurrentPageLuckyWinner(0)\r\n  }, [selectedCampaign, setCurrentPageLuckyWinner, setCurrentPage])\r\n\r\n  const leaderboardTableBody = (selectedCampaignLeaderboard?.rankings ?? []).map((data, index) => {\r\n    const isThisRankingEligible = Boolean(selectedCampaign && data.totalPoint >= selectedCampaign.tradingVolumeRequired)\r\n    const rewardAmount = data.rewardInUSD ? data.rewardAmountUsd : data.rewardAmount\r\n\r\n    const rRewardAmount = rewardAmount.equalTo(BIG_INT_ZERO)\r\n      ? '--'\r\n      : data.rewardInUSD && selectedCampaign?.campaignState !== CampaignState.CampaignStateDistributedRewards\r\n      ? t`$${data.rewardAmountUsd.toSignificant(DEFAULT_SIGNIFICANT)}`\r\n      : `${data.rewardAmount.toSignificant(DEFAULT_SIGNIFICANT)} ${data.token.symbol}`\r\n\r\n    return (\r\n      <LeaderboardTableBody\r\n        key={index}\r\n        noColumns={isRewardShown ? 4 : 3}\r\n        showMedal={data.rankNo <= 3}\r\n        style={{\r\n          background: leaderboardTableBodyBackgroundColorsByRank[data.rankNo] ?? 'transparent',\r\n        }}\r\n      >\r\n        <LeaderboardTableBodyItem\r\n          align=\"center\"\r\n          style={{ width: (rankWidth === Infinity ? 33 : rankWidth) + 'px', maxHeight: '24px' }}\r\n          isThisRankingEligible={isThisRankingEligible}\r\n        >\r\n          {data.rankNo === 1 ? (\r\n            <MedalImg src={Gold} />\r\n          ) : data.rankNo === 2 ? (\r\n            <MedalImg src={Silver} />\r\n          ) : data.rankNo === 3 ? (\r\n            <MedalImg src={Bronze} />\r\n          ) : isThisRankingEligible ? (\r\n            data.rankNo\r\n          ) : (\r\n            <InfoHelperWrapper>\r\n              <InfoHelper size={14} text={t`Not enough trading volume`} placement=\"top\" style={{ margin: 0 }} />\r\n            </InfoHelperWrapper>\r\n          )}\r\n        </LeaderboardTableBodyItem>\r\n        <LeaderboardTableBodyItem isThisRankingEligible={isThisRankingEligible}>\r\n          {getShortenAddress(data.userAddress, above1200)}\r\n        </LeaderboardTableBodyItem>\r\n        <LeaderboardTableBodyItem align=\"right\" isThisRankingEligible={isThisRankingEligible}>\r\n          {formatNumberWithPrecisionRange(Number(data.totalPoint), 0, 2)}\r\n        </LeaderboardTableBodyItem>\r\n        {showRewardsColumn && (\r\n          <LeaderboardTableBodyItem align=\"right\" isThisRankingEligible={isThisRankingEligible}>\r\n            {rRewardAmount}\r\n          </LeaderboardTableBodyItem>\r\n        )}\r\n      </LeaderboardTableBody>\r\n    )\r\n  })\r\n\r\n  const luckyWinnersTableBody = selectedCampaignLuckyWinners.map((luckyWinner, index) => {\r\n    return (\r\n      <LeaderboardTableBody key={index} noColumns={2} showMedal={false} style={{ background: 'transparent' }}>\r\n        <LeaderboardTableBodyItem isThisRankingEligible={true}>\r\n          {getShortenAddress(luckyWinner.userAddress, above1200)}\r\n        </LeaderboardTableBodyItem>\r\n        <LeaderboardTableBodyItem align=\"right\" isThisRankingEligible={true}>\r\n          {luckyWinner.rewardAmount.toSignificant(DEFAULT_SIGNIFICANT)} {luckyWinner.token.symbol}\r\n        </LeaderboardTableBodyItem>\r\n      </LeaderboardTableBody>\r\n    )\r\n  })\r\n\r\n  if (selectedCampaign === undefined || selectedCampaign.status === CampaignStatus.UPCOMING)\r\n    return (\r\n      <Flex justifyContent=\"center\" alignItems=\"center\" height=\"100%\" p=\"16px\">\r\n        <Text as=\"span\" textAlign=\"center\">\r\n          <Trans>This campaign does not have a leaderboard yet.</Trans>\r\n        </Text>\r\n      </Flex>\r\n    )\r\n\r\n  let rRewardsDistributedAt = ''\r\n  if (selectedCampaignLeaderboard && selectedCampaignLeaderboard.distributedRewardsAt) {\r\n    const formattedUpdatedAt = dayjs(selectedCampaignLeaderboard.distributedRewardsAt * 1000).format('YYYY-MM-DD HH:mm')\r\n    if (selectedCampaign.campaignState === CampaignState.CampaignStateDistributedRewards) {\r\n      rRewardsDistributedAt = `${t`Rewards were distributed at`}: ${formattedUpdatedAt}`\r\n    }\r\n  }\r\n\r\n  const onPageChange = (pageNumber: number) => {\r\n    if (type === 'lucky_winner') setCurrentPageLuckyWinner(pageNumber - 1)\r\n    else setCurrentPage(pageNumber - 1)\r\n  }\r\n\r\n  return (\r\n    <LeaderboardContainer>\r\n      <TextAndSearchContainer>\r\n        {selectedCampaign.status !== CampaignStatus.ENDED && type === 'leaderboard' ? (\r\n          <TextContainer>\r\n            <SubTextSmall>\r\n              <Trans>Leaderboard refresh in</Trans>\r\n            </SubTextSmall>\r\n            <CountdownContainer>\r\n              <Clock size={12} />\r\n              <Text fontSize=\"12px\" lineHeight=\"14px\">\r\n                {refreshInMinute.toString().length === 1 ? '0' + refreshInMinute : refreshInMinute} :{' '}\r\n                {refreshInSecond.toString().length === 1 ? '0' + refreshInSecond : refreshInSecond}\r\n              </Text>\r\n            </CountdownContainer>\r\n          </TextContainer>\r\n        ) : selectedCampaign.campaignState !== CampaignState.CampaignStateReady ? (\r\n          <TextContainer>\r\n            <SubTextSmall>{rRewardsDistributedAt}</SubTextSmall>\r\n          </TextContainer>\r\n        ) : null}\r\n\r\n        <CustomSearchContainer>\r\n          <Search\r\n            placeholder={t`Search by full address`}\r\n            searchValue={searchValue}\r\n            onSearch={setSearchValue}\r\n            style={{ background: theme.buttonBlack }}\r\n          />\r\n        </CustomSearchContainer>\r\n      </TextAndSearchContainer>\r\n      <LeaderboardTable>\r\n        <LeaderboardTableHeader noColumns={type === 'lucky_winner' ? 2 : isRewardShown ? 4 : 3}>\r\n          {type === 'leaderboard' && <LeaderboardTableHeaderItem>{rank}</LeaderboardTableHeaderItem>}\r\n          <LeaderboardTableHeaderItem>\r\n            <Trans>Wallet</Trans>\r\n          </LeaderboardTableHeaderItem>\r\n          {type === 'leaderboard' && (\r\n            <LeaderboardTableHeaderItem align=\"right\">\r\n              <Trans>Points</Trans>\r\n            </LeaderboardTableHeaderItem>\r\n          )}\r\n          {showRewardsColumn && (\r\n            <LeaderboardTableHeaderItem align=\"right\">\r\n              <Trans>Rewards</Trans>\r\n            </LeaderboardTableHeaderItem>\r\n          )}\r\n        </LeaderboardTableHeader>\r\n        {type === 'leaderboard' ? leaderboardTableBody : luckyWinnersTableBody}\r\n      </LeaderboardTable>\r\n      <Pagination\r\n        onPageChange={onPageChange}\r\n        totalCount={totalItems}\r\n        currentPage={type === 'lucky_winner' ? currentPageLuckyWinner + 1 : +currentPage + 1}\r\n        pageSize={CAMPAIGN_LEADERBOARD_ITEM_PER_PAGE}\r\n        style={{ padding: '0' }}\r\n      />\r\n    </LeaderboardContainer>\r\n  )\r\n}\r\n\r\nconst CustomSearchContainer = styled.div`\r\n  flex: 1 1 100%;\r\n\r\n  display: flex;\r\n  justify-content: flex-end;\r\n\r\n  ${SearchContainer} {\r\n    flex: 0 1 360px;\r\n  }\r\n\r\n  ${SearchWrapper} {\r\n    min-width: unset;\r\n  }\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    width: 100%;\r\n    flex: 0 0;\r\n\r\n    ${SearchContainer} {\r\n      flex: 1 1 100%;\r\n    }\r\n  `}\r\n`\r\n\r\nconst LeaderboardContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  padding: 16px 0;\r\n`\r\n\r\nconst TextAndSearchContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 16px;\r\n  align-content: center;\r\n\r\n  padding: 0 16px;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    flex-direction: column;\r\n    gap: 16px;\r\n  `}\r\n`\r\n\r\nconst TextContainer = styled.div`\r\n  flex-wrap: nowrap;\r\n  white-space: nowrap;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n`\r\n\r\nconst SubTextSmall = styled.div`\r\n  font-size: 12px;\r\n  line-height: 14px;\r\n  color: ${({ theme }) => theme.subText};\r\n`\r\n\r\nconst CountdownContainer = styled.div`\r\n  width: 73px;\r\n  flex-wrap: nowrap;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 3px 6px;\r\n  border-radius: 12px;\r\n  background: ${({ theme }) => rgba(theme.subText, 0.1)};\r\n  color: ${({ theme }) => theme.subText};\r\n`\r\n\r\nconst LeaderboardTable = styled.div``\r\n\r\nconst LeaderboardTableHeader = styled.div<{ noColumns: 2 | 3 | 4 }>`\r\n  padding: 18px 20px;\r\n  display: grid;\r\n  align-items: center;\r\n  background: ${({ theme }) => theme.tableHeader};\r\n\r\n  ${({ noColumns }) =>\r\n    noColumns === 4\r\n      ? css`\r\n          grid-template-columns: 7.5fr 52.6fr 19.9fr 19.9fr;\r\n        `\r\n      : noColumns === 3\r\n      ? css`\r\n          grid-template-columns: 7.5fr 52.6fr 39.8fr;\r\n        `\r\n      : css`\r\n          grid-template-columns: 1fr 1fr;\r\n        `}\r\n\r\n  ${({ theme, noColumns }) => theme.mediaWidth.upToMedium`\r\n    ${\r\n      noColumns === 4\r\n        ? css`\r\n            grid-template-columns: 1fr 2fr 2fr 2fr;\r\n          `\r\n        : noColumns === 3\r\n        ? css`\r\n            grid-template-columns: 1fr 2fr 1fr;\r\n          `\r\n        : css`\r\n            grid-template-columns: 1fr 1fr;\r\n          `\r\n    }\r\n    }`}\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`padding: 16px;`}\r\n`\r\n\r\nconst LeaderboardTableHeaderItem = styled.div<{ align?: 'left' | 'right' | 'center' }>`\r\n  font-size: 12px;\r\n  line-height: 14px;\r\n  font-weight: 500;\r\n  color: ${({ theme }) => theme.subText};\r\n  text-transform: uppercase;\r\n  text-align: ${({ align }) => align ?? 'left'};\r\n`\r\n\r\nconst LeaderboardTableBody = styled(LeaderboardTableHeader)<{ showMedal: boolean }>`\r\n  border-radius: 0;\r\n  background: transparent;\r\n  border-bottom: 1px solid ${({ theme }) => theme.border};\r\n  padding: ${({ showMedal }) => (showMedal ? '16px 20px' : '20px')};\r\n\r\n  ${({ theme, showMedal }) =>\r\n    theme.mediaWidth.upToSmall`${css`\r\n      padding: ${showMedal ? '14px 16px' : '16px'};\r\n    `}`}\r\n`\r\n\r\nconst LeaderboardTableBodyItem = styled.div<{ align?: 'left' | 'right' | 'center'; isThisRankingEligible: boolean }>`\r\n  font-size: 14px;\r\n  line-height: 16px;\r\n  font-weight: 500;\r\n  text-align: ${({ align }) => align ?? 'left'};\r\n  display: flex;\r\n  justify-content: ${({ align }) => (align === 'right' ? 'flex-end' : align === 'center' ? 'center' : 'flex-start')};\r\n  color: ${({ isThisRankingEligible, theme }) => (isThisRankingEligible ? theme.text : theme.subText)};\r\n  white-space: nowrap;\r\n\r\n  ${({ theme }) =>\r\n    theme.mediaWidth.upToMedium`\r\n      font-size: 12px;\r\n      line-height: 14px;\r\n      font-weight: 400;\r\n    `}\r\n`\r\n\r\nconst MedalImg = styled.img`\r\n  min-width: 18px;\r\n`\r\n\r\nconst InfoHelperWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: fit-content;\r\n  margin: 0;\r\n  padding: 5px;\r\n  background: ${({ theme }) => rgba(theme.subText, 0.2)};\r\n  border-radius: 50%;\r\n`\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nvar ReCAPTCHA =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(ReCAPTCHA, _React$Component);\n\n  function ReCAPTCHA() {\n    var _this;\n\n    _this = _React$Component.call(this) || this;\n    _this.handleExpired = _this.handleExpired.bind(_assertThisInitialized(_this));\n    _this.handleErrored = _this.handleErrored.bind(_assertThisInitialized(_this));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handleRecaptchaRef = _this.handleRecaptchaRef.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = ReCAPTCHA.prototype;\n\n  _proto.getValue = function getValue() {\n    if (this.props.grecaptcha && this._widgetId !== undefined) {\n      return this.props.grecaptcha.getResponse(this._widgetId);\n    }\n\n    return null;\n  };\n\n  _proto.getWidgetId = function getWidgetId() {\n    if (this.props.grecaptcha && this._widgetId !== undefined) {\n      return this._widgetId;\n    }\n\n    return null;\n  };\n\n  _proto.execute = function execute() {\n    var grecaptcha = this.props.grecaptcha;\n\n    if (grecaptcha && this._widgetId !== undefined) {\n      return grecaptcha.execute(this._widgetId);\n    } else {\n      this._executeRequested = true;\n    }\n  };\n\n  _proto.executeAsync = function executeAsync() {\n    var _this2 = this;\n\n    return new Promise(function (resolve, reject) {\n      _this2.executionResolve = resolve;\n      _this2.executionReject = reject;\n\n      _this2.execute();\n    });\n  };\n\n  _proto.reset = function reset() {\n    if (this.props.grecaptcha && this._widgetId !== undefined) {\n      this.props.grecaptcha.reset(this._widgetId);\n    }\n  };\n\n  _proto.handleExpired = function handleExpired() {\n    if (this.props.onExpired) {\n      this.props.onExpired();\n    } else {\n      this.handleChange(null);\n    }\n  };\n\n  _proto.handleErrored = function handleErrored() {\n    if (this.props.onErrored) {\n      this.props.onErrored();\n    }\n\n    if (this.executionReject) {\n      this.executionReject();\n      delete this.executionResolve;\n      delete this.executionReject;\n    }\n  };\n\n  _proto.handleChange = function handleChange(token) {\n    if (this.props.onChange) {\n      this.props.onChange(token);\n    }\n\n    if (this.executionResolve) {\n      this.executionResolve(token);\n      delete this.executionReject;\n      delete this.executionResolve;\n    }\n  };\n\n  _proto.explicitRender = function explicitRender() {\n    if (this.props.grecaptcha && this.props.grecaptcha.render && this._widgetId === undefined) {\n      var wrapper = document.createElement(\"div\");\n      this._widgetId = this.props.grecaptcha.render(wrapper, {\n        sitekey: this.props.sitekey,\n        callback: this.handleChange,\n        theme: this.props.theme,\n        type: this.props.type,\n        tabindex: this.props.tabindex,\n        \"expired-callback\": this.handleExpired,\n        \"error-callback\": this.handleErrored,\n        size: this.props.size,\n        stoken: this.props.stoken,\n        hl: this.props.hl,\n        badge: this.props.badge\n      });\n      this.captcha.appendChild(wrapper);\n    }\n\n    if (this._executeRequested && this.props.grecaptcha && this._widgetId !== undefined) {\n      this._executeRequested = false;\n      this.execute();\n    }\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.explicitRender();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.explicitRender();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this._widgetId !== undefined) {\n      this.delayOfCaptchaIframeRemoving();\n      this.reset();\n    }\n  };\n\n  _proto.delayOfCaptchaIframeRemoving = function delayOfCaptchaIframeRemoving() {\n    var temporaryNode = document.createElement(\"div\");\n    document.body.appendChild(temporaryNode);\n    temporaryNode.style.display = \"none\"; // move of the recaptcha to a temporary node\n\n    while (this.captcha.firstChild) {\n      temporaryNode.appendChild(this.captcha.firstChild);\n    } // delete the temporary node after reset will be done\n\n\n    setTimeout(function () {\n      document.body.removeChild(temporaryNode);\n    }, 5000);\n  };\n\n  _proto.handleRecaptchaRef = function handleRecaptchaRef(elem) {\n    this.captcha = elem;\n  };\n\n  _proto.render = function render() {\n    // consume properties owned by the reCATPCHA, pass the rest to the div so the user can style it.\n\n    /* eslint-disable no-unused-vars */\n    var _this$props = this.props,\n        sitekey = _this$props.sitekey,\n        onChange = _this$props.onChange,\n        theme = _this$props.theme,\n        type = _this$props.type,\n        tabindex = _this$props.tabindex,\n        onExpired = _this$props.onExpired,\n        onErrored = _this$props.onErrored,\n        size = _this$props.size,\n        stoken = _this$props.stoken,\n        grecaptcha = _this$props.grecaptcha,\n        badge = _this$props.badge,\n        hl = _this$props.hl,\n        childProps = _objectWithoutPropertiesLoose(_this$props, [\"sitekey\", \"onChange\", \"theme\", \"type\", \"tabindex\", \"onExpired\", \"onErrored\", \"size\", \"stoken\", \"grecaptcha\", \"badge\", \"hl\"]);\n    /* eslint-enable no-unused-vars */\n\n\n    return React.createElement(\"div\", _extends({}, childProps, {\n      ref: this.handleRecaptchaRef\n    }));\n  };\n\n  return ReCAPTCHA;\n}(React.Component);\n\nexport { ReCAPTCHA as default };\nReCAPTCHA.displayName = \"ReCAPTCHA\";\nReCAPTCHA.propTypes = {\n  sitekey: PropTypes.string.isRequired,\n  onChange: PropTypes.func,\n  grecaptcha: PropTypes.object,\n  theme: PropTypes.oneOf([\"dark\", \"light\"]),\n  type: PropTypes.oneOf([\"image\", \"audio\"]),\n  tabindex: PropTypes.number,\n  onExpired: PropTypes.func,\n  onErrored: PropTypes.func,\n  size: PropTypes.oneOf([\"compact\", \"normal\", \"invisible\"]),\n  stoken: PropTypes.string,\n  hl: PropTypes.string,\n  badge: PropTypes.oneOf([\"bottomright\", \"bottomleft\", \"inline\"])\n};\nReCAPTCHA.defaultProps = {\n  onChange: function onChange() {},\n  theme: \"light\",\n  type: \"image\",\n  tabindex: 0,\n  size: \"normal\",\n  badge: \"bottomright\"\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nimport { Component, createElement, forwardRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport hoistStatics from \"hoist-non-react-statics\";\nvar SCRIPT_MAP = {}; // A counter used to generate a unique id for each component that uses the function\n\nvar idCount = 0;\nexport default function makeAsyncScript(getScriptURL, options) {\n  options = options || {};\n  return function wrapWithAsyncScript(WrappedComponent) {\n    var wrappedComponentName = WrappedComponent.displayName || WrappedComponent.name || \"Component\";\n\n    var AsyncScriptLoader =\n    /*#__PURE__*/\n    function (_Component) {\n      _inheritsLoose(AsyncScriptLoader, _Component);\n\n      function AsyncScriptLoader(props, context) {\n        var _this;\n\n        _this = _Component.call(this, props, context) || this;\n        _this.state = {};\n        _this.__scriptURL = \"\";\n        return _this;\n      }\n\n      var _proto = AsyncScriptLoader.prototype;\n\n      _proto.asyncScriptLoaderGetScriptLoaderID = function asyncScriptLoaderGetScriptLoaderID() {\n        if (!this.__scriptLoaderID) {\n          this.__scriptLoaderID = \"async-script-loader-\" + idCount++;\n        }\n\n        return this.__scriptLoaderID;\n      };\n\n      _proto.setupScriptURL = function setupScriptURL() {\n        this.__scriptURL = typeof getScriptURL === \"function\" ? getScriptURL() : getScriptURL;\n        return this.__scriptURL;\n      };\n\n      _proto.asyncScriptLoaderHandleLoad = function asyncScriptLoaderHandleLoad(state) {\n        var _this2 = this;\n\n        // use reacts setState callback to fire props.asyncScriptOnLoad with new state/entry\n        this.setState(state, function () {\n          return _this2.props.asyncScriptOnLoad && _this2.props.asyncScriptOnLoad(_this2.state);\n        });\n      };\n\n      _proto.asyncScriptLoaderTriggerOnScriptLoaded = function asyncScriptLoaderTriggerOnScriptLoaded() {\n        var mapEntry = SCRIPT_MAP[this.__scriptURL];\n\n        if (!mapEntry || !mapEntry.loaded) {\n          throw new Error(\"Script is not loaded.\");\n        }\n\n        for (var obsKey in mapEntry.observers) {\n          mapEntry.observers[obsKey](mapEntry);\n        }\n\n        delete window[options.callbackName];\n      };\n\n      _proto.componentDidMount = function componentDidMount() {\n        var _this3 = this;\n\n        var scriptURL = this.setupScriptURL();\n        var key = this.asyncScriptLoaderGetScriptLoaderID();\n        var _options = options,\n            globalName = _options.globalName,\n            callbackName = _options.callbackName,\n            scriptId = _options.scriptId; // check if global object already attached to window\n\n        if (globalName && typeof window[globalName] !== \"undefined\") {\n          SCRIPT_MAP[scriptURL] = {\n            loaded: true,\n            observers: {}\n          };\n        } // check if script loading already\n\n\n        if (SCRIPT_MAP[scriptURL]) {\n          var entry = SCRIPT_MAP[scriptURL]; // if loaded or errored then \"finish\"\n\n          if (entry && (entry.loaded || entry.errored)) {\n            this.asyncScriptLoaderHandleLoad(entry);\n            return;\n          } // if still loading then callback to observer queue\n\n\n          entry.observers[key] = function (entry) {\n            return _this3.asyncScriptLoaderHandleLoad(entry);\n          };\n\n          return;\n        }\n        /*\n         * hasn't started loading\n         * start the \"magic\"\n         * setup script to load and observers\n         */\n\n\n        var observers = {};\n\n        observers[key] = function (entry) {\n          return _this3.asyncScriptLoaderHandleLoad(entry);\n        };\n\n        SCRIPT_MAP[scriptURL] = {\n          loaded: false,\n          observers: observers\n        };\n        var script = document.createElement(\"script\");\n        script.src = scriptURL;\n        script.async = true;\n\n        for (var attribute in options.attributes) {\n          script.setAttribute(attribute, options.attributes[attribute]);\n        }\n\n        if (scriptId) {\n          script.id = scriptId;\n        }\n\n        var callObserverFuncAndRemoveObserver = function callObserverFuncAndRemoveObserver(func) {\n          if (SCRIPT_MAP[scriptURL]) {\n            var mapEntry = SCRIPT_MAP[scriptURL];\n            var observersMap = mapEntry.observers;\n\n            for (var obsKey in observersMap) {\n              if (func(observersMap[obsKey])) {\n                delete observersMap[obsKey];\n              }\n            }\n          }\n        };\n\n        if (callbackName && typeof window !== \"undefined\") {\n          window[callbackName] = function () {\n            return _this3.asyncScriptLoaderTriggerOnScriptLoaded();\n          };\n        }\n\n        script.onload = function () {\n          var mapEntry = SCRIPT_MAP[scriptURL];\n\n          if (mapEntry) {\n            mapEntry.loaded = true;\n            callObserverFuncAndRemoveObserver(function (observer) {\n              if (callbackName) {\n                return false;\n              }\n\n              observer(mapEntry);\n              return true;\n            });\n          }\n        };\n\n        script.onerror = function () {\n          var mapEntry = SCRIPT_MAP[scriptURL];\n\n          if (mapEntry) {\n            mapEntry.errored = true;\n            callObserverFuncAndRemoveObserver(function (observer) {\n              observer(mapEntry);\n              return true;\n            });\n          }\n        };\n\n        document.body.appendChild(script);\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        // Remove tag script\n        var scriptURL = this.__scriptURL;\n\n        if (options.removeOnUnmount === true) {\n          var allScripts = document.getElementsByTagName(\"script\");\n\n          for (var i = 0; i < allScripts.length; i += 1) {\n            if (allScripts[i].src.indexOf(scriptURL) > -1) {\n              if (allScripts[i].parentNode) {\n                allScripts[i].parentNode.removeChild(allScripts[i]);\n              }\n            }\n          }\n        } // Clean the observer entry\n\n\n        var mapEntry = SCRIPT_MAP[scriptURL];\n\n        if (mapEntry) {\n          delete mapEntry.observers[this.asyncScriptLoaderGetScriptLoaderID()];\n\n          if (options.removeOnUnmount === true) {\n            delete SCRIPT_MAP[scriptURL];\n          }\n        }\n      };\n\n      _proto.render = function render() {\n        var globalName = options.globalName; // remove asyncScriptOnLoad from childProps\n\n        var _this$props = this.props,\n            asyncScriptOnLoad = _this$props.asyncScriptOnLoad,\n            forwardedRef = _this$props.forwardedRef,\n            childProps = _objectWithoutPropertiesLoose(_this$props, [\"asyncScriptOnLoad\", \"forwardedRef\"]); // eslint-disable-line no-unused-vars\n\n\n        if (globalName && typeof window !== \"undefined\") {\n          childProps[globalName] = typeof window[globalName] !== \"undefined\" ? window[globalName] : undefined;\n        }\n\n        childProps.ref = forwardedRef;\n        return createElement(WrappedComponent, childProps);\n      };\n\n      return AsyncScriptLoader;\n    }(Component); // Note the second param \"ref\" provided by React.forwardRef.\n    // We can pass it along to AsyncScriptLoader as a regular prop, e.g. \"forwardedRef\"\n    // And it can then be attached to the Component.\n\n\n    var ForwardedComponent = forwardRef(function (props, ref) {\n      return createElement(AsyncScriptLoader, _extends({}, props, {\n        forwardedRef: ref\n      }));\n    });\n    ForwardedComponent.displayName = \"AsyncScriptLoader(\" + wrappedComponentName + \")\";\n    ForwardedComponent.propTypes = {\n      asyncScriptOnLoad: PropTypes.func\n    };\n    return hoistStatics(ForwardedComponent, WrappedComponent);\n  };\n}","import ReCAPTCHA from \"./recaptcha\";\nimport makeAsyncScriptLoader from \"react-async-script\";\nvar callbackName = \"onloadcallback\";\nvar globalName = \"grecaptcha\";\n\nfunction getOptions() {\n  return typeof window !== \"undefined\" && window.recaptchaOptions || {};\n}\n\nfunction getURL() {\n  var dynamicOptions = getOptions();\n  var hostname = dynamicOptions.useRecaptchaNet ? \"recaptcha.net\" : \"www.google.com\";\n  return \"https://\" + hostname + \"/recaptcha/api.js?onload=\" + callbackName + \"&render=explicit\";\n}\n\nexport default makeAsyncScriptLoader(getURL, {\n  callbackName: callbackName,\n  globalName: globalName\n})(ReCAPTCHA);","import RecaptchaWrapper from \"./recaptcha-wrapper\";\nimport ReCAPTCHA from \"./recaptcha\";\nexport default RecaptchaWrapper;\nexport { ReCAPTCHA };","import { Trans } from '@lingui/macro'\r\nimport axios from 'axios'\r\nimport { createRef, memo, useCallback } from 'react'\r\nimport ReCAPTCHA from 'react-google-recaptcha'\r\nimport { Text } from 'rebass'\r\nimport styled from 'styled-components'\r\nimport { mutate } from 'swr'\r\n\r\nimport { ModalCenter } from 'components/Modal'\r\nimport { GOOGLE_RECAPTCHA_KEY } from 'constants/env'\r\nimport { CAMPAIGN_BASE_URL, SWR_KEYS } from 'constants/index'\r\nimport { useActiveWeb3React } from 'hooks'\r\nimport useTheme from 'hooks/useTheme'\r\nimport { ApplicationModal } from 'state/application/actions'\r\nimport {\r\n  useModalOpen,\r\n  useRegisterCampaignCaptchaModalToggle,\r\n  useRegisterCampaignSuccessModalToggle,\r\n} from 'state/application/hooks'\r\nimport { useRecaptchaCampaignManager } from 'state/campaigns/hooks'\r\nimport { useIsDarkMode } from 'state/user/hooks'\r\n\r\nconst Background = styled.div`\r\n  background-color: ${({ theme }) => theme.tableHeader};\r\n  width: 400px;\r\n  text-align: center;\r\n  padding: 50px 20px;\r\n  border-radius: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 25px;\r\n  flex-direction: column;\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    padding: 30px 20px;\r\n  `}\r\n`\r\n\r\nconst ModalRegisterCampaignCaptcha = () => {\r\n  const recaptchaRef = createRef<ReCAPTCHA>()\r\n\r\n  const isRegisterCampaignCaptchaModalOpen = useModalOpen(ApplicationModal.REGISTER_CAMPAIGN_CAPTCHA)\r\n  const toggleRegisterCampaignCaptchaModal = useRegisterCampaignCaptchaModalToggle()\r\n  const toggleRegisterCampaignSuccessModal = useRegisterCampaignSuccessModalToggle()\r\n  const [recaptchaCampaign, updateRecaptchaCampaignId, updateRecaptchaCampaignLoading] = useRecaptchaCampaignManager()\r\n  const isDarkMode = useIsDarkMode()\r\n  const theme = useTheme()\r\n\r\n  const { account } = useActiveWeb3React()\r\n\r\n  // Create an event handler, so you can call the verification on button click event or form submit\r\n  const handleReCaptchaVerify = useCallback(async () => {\r\n    if (!recaptchaCampaign.id || !account) return\r\n\r\n    if (typeof recaptchaRef === 'function') {\r\n      console.log(\"recaptchaRef is a function? Something's wrong.\")\r\n      return\r\n    }\r\n\r\n    if (!recaptchaRef || !recaptchaRef.current) {\r\n      console.log('Execute recaptcha not yet available')\r\n      return\r\n    }\r\n\r\n    try {\r\n      updateRecaptchaCampaignLoading(true)\r\n      const token = await recaptchaRef.current.getValue()\r\n      await new Promise(r => setTimeout(r, 750))\r\n      toggleRegisterCampaignCaptchaModal()\r\n      const response = await axios({\r\n        method: 'POST',\r\n        url: `${CAMPAIGN_BASE_URL}/${recaptchaCampaign.id}/participants`,\r\n        data: {\r\n          token,\r\n          address: account,\r\n        },\r\n      })\r\n      if (response.status === 200) {\r\n        await mutate([SWR_KEYS.getListCampaign, account])\r\n        toggleRegisterCampaignSuccessModal()\r\n      }\r\n    } catch (err) {\r\n      console.error(err)\r\n    } finally {\r\n      updateRecaptchaCampaignLoading(false)\r\n      updateRecaptchaCampaignId(undefined)\r\n    }\r\n  }, [\r\n    account,\r\n    recaptchaCampaign.id,\r\n    recaptchaRef,\r\n    toggleRegisterCampaignCaptchaModal,\r\n    toggleRegisterCampaignSuccessModal,\r\n    updateRecaptchaCampaignId,\r\n    updateRecaptchaCampaignLoading,\r\n  ])\r\n\r\n  return (\r\n    <ModalCenter\r\n      isOpen={isRegisterCampaignCaptchaModalOpen}\r\n      onDismiss={() => {\r\n        toggleRegisterCampaignCaptchaModal()\r\n        updateRecaptchaCampaignId(undefined)\r\n      }}\r\n      maxWidth=\"calc(100vw - 32px)\"\r\n      width=\"fit-content\"\r\n      height=\"fit-content\"\r\n      bgColor=\"transparent\"\r\n    >\r\n      <Background>\r\n        <Text color={theme.text}>\r\n          <Trans>To continue, check the box below to verify and proceed</Trans>\r\n        </Text>\r\n        <ReCAPTCHA\r\n          ref={recaptchaRef}\r\n          size=\"normal\"\r\n          sitekey={GOOGLE_RECAPTCHA_KEY}\r\n          onChange={handleReCaptchaVerify}\r\n          theme={isDarkMode ? 'dark' : 'light'}\r\n          style={{ minHeight: '78px' }}\r\n        />\r\n      </Background>\r\n    </ModalCenter>\r\n  )\r\n}\r\n\r\nexport default memo(ModalRegisterCampaignCaptcha)\r\n","export default __webpack_public_path__ + \"static/media/register-campaign-bg.2d8ea9eb.png\";","import { ChainId } from '@kyberswap/ks-sdk-core'\r\nimport { Trans } from '@lingui/macro'\r\nimport { useSelector } from 'react-redux'\r\nimport { Flex, Text } from 'rebass'\r\nimport styled from 'styled-components'\r\n\r\nimport RegisterCampaignBg from 'assets/images/register-campaign-bg.png'\r\nimport { ButtonPrimary } from 'components/Button'\r\nimport { ModalCenter } from 'components/Modal'\r\nimport { useActiveWeb3React } from 'hooks'\r\nimport { AppState } from 'state'\r\nimport { ApplicationModal } from 'state/application/actions'\r\nimport { useModalOpen, useRegisterCampaignSuccessModalToggle } from 'state/application/hooks'\r\nimport { useSwapNowHandler } from 'state/campaigns/hooks'\r\n\r\nexport default function ModalRegisterCampaignSuccess() {\r\n  const isRegisterCampaignSuccessModalOpen = useModalOpen(ApplicationModal.REGISTER_CAMPAIGN_SUCCESS)\r\n  const toggleRegisterCampaignSuccessModal = useRegisterCampaignSuccessModalToggle()\r\n  const selectedCampaign = useSelector((state: AppState) => state.campaigns.selectedCampaign)\r\n  const handleSwapNow = useSwapNowHandler()\r\n  const { chainId } = useActiveWeb3React()\r\n\r\n  return (\r\n    <ModalCenter\r\n      isOpen={isRegisterCampaignSuccessModalOpen}\r\n      onDismiss={toggleRegisterCampaignSuccessModal}\r\n      maxHeight={70}\r\n      maxWidth=\"calc(100vw - 32px)\"\r\n      width=\"fit-content\"\r\n      height=\"fit-content\"\r\n      bgColor=\"transparent\"\r\n    >\r\n      <Flex justifyContent=\"center\" width=\"100%\">\r\n        <RegisterCampaignBackground>\r\n          <Title>\r\n            <Trans>Success!</Trans>\r\n          </Title>\r\n          <Content>\r\n            <Trans>You have successfully registered for this trading campaign. Start trading now and good luck!</Trans>\r\n          </Content>\r\n          <ResponsiveButtonPrimary\r\n            maxWidth=\"69%\"\r\n            style={{ fontSize: '14px' }}\r\n            onClick={() => {\r\n              if (!selectedCampaign || !chainId) return\r\n              const listChain: ChainId[] = selectedCampaign.chainIds.split(',').map(Number)\r\n              handleSwapNow(listChain.includes(chainId) ? chainId : listChain[0])\r\n              toggleRegisterCampaignSuccessModal()\r\n            }}\r\n          >\r\n            <Trans>Swap Now</Trans>\r\n          </ResponsiveButtonPrimary>\r\n        </RegisterCampaignBackground>\r\n      </Flex>\r\n    </ModalCenter>\r\n  )\r\n}\r\n\r\nconst RegisterCampaignBackground = styled.div`\r\n  background-image: url(${RegisterCampaignBg});\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  width: 512px;\r\n  height: 286.5px;\r\n  max-width: calc(100vw - 16px);\r\n  aspect-ratio: 1 / 2;\r\n  max-height: calc(50vw - 8px);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 24px;\r\n  box-shadow: 0 0 16px 1px #31cb9e;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    gap: 12px;\r\n  `}\r\n`\r\n\r\nconst Title = styled(Text)`\r\n  color: ${({ theme }) => theme.white};\r\n  font-weight: 500;\r\n  font-size: 24px;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    font-size: 18px;\r\n  `}\r\n`\r\n\r\nconst Content = styled(Text)`\r\n  color: ${({ theme }) => theme.white};\r\n  font-size: 16px;\r\n  max-width: 69%;\r\n  text-align: center;\r\n  line-height: 24px;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    font-size: 14px;\r\n    line-height: 16px;\r\n  `}\r\n`\r\n\r\nconst ResponsiveButtonPrimary = styled(ButtonPrimary)`\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    margin-top: 6px;\r\n    padding: 6px;\r\n    font-size: 18px;\r\n  `}\r\n`\r\n","function getEmbedIframeByYoutubeId(id: string) {\r\n  return `\r\n  <div style=\"position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;\">\r\n    <iframe src=\"https://www.youtube.com/embed/${id}\"\r\n      style=\"position: absolute; width: 100%; height: 100%; top: 0; left: 0;\"\r\n      frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen>\r\n    </iframe>\r\n  </div>\r\n`\r\n}\r\n\r\n// CKEditor oembed -> youtube embed iframe\r\nexport default function oembed2iframe(html: string) {\r\n  let i = 0\r\n  while (true) {\r\n    while (i < html.length && html.substring(i, i + 7) !== '<oembed') {\r\n      i++\r\n    }\r\n    if (i >= html.length - 1) break\r\n    const startIndex = i\r\n    while (i < html.length && html.substring(i, i + 9) !== `</oembed>`) {\r\n      i++\r\n    }\r\n    const endIndex = i + 9\r\n    const youtubeId = html.substring(startIndex, endIndex).split(/url=\"/)[1].split(/\"></)[0].split('?v=')[1]\r\n    html = html.substring(0, startIndex) + getEmbedIframeByYoutubeId(youtubeId) + html.substring(endIndex, html.length)\r\n    i++\r\n  }\r\n\r\n  return html\r\n}\r\n","import { memo } from 'react'\r\nimport { X } from 'react-feather'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nimport Modal from 'components/Modal'\r\nimport useTheme from 'hooks/useTheme'\r\nimport CampaignListAndSearch from 'pages/Campaign/CampaignListAndSearch'\r\nimport { ApplicationModal } from 'state/application/actions'\r\nimport { useModalOpen, useSelectCampaignModalToggle } from 'state/application/hooks'\r\nimport { CampaignData } from 'state/campaigns/actions'\r\nimport { getSlugUrlCampaign } from 'utils/campaign'\r\n\r\nconst ModalSelectCampaign = () => {\r\n  const isSelectCampaignModalOpen = useModalOpen(ApplicationModal.SELECT_CAMPAIGN)\r\n  const toggleSelectCampaignModal = useSelectCampaignModalToggle()\r\n  const theme = useTheme()\r\n\r\n  const history = useHistory()\r\n  const onSelectCampaign = (campaign: CampaignData) => {\r\n    history.push(getSlugUrlCampaign(campaign))\r\n    setTimeout(() => {\r\n      // UX Improvement\r\n      toggleSelectCampaignModal()\r\n    }, 200)\r\n  }\r\n\r\n  return (\r\n    <Modal isOpen={isSelectCampaignModalOpen} onDismiss={toggleSelectCampaignModal} maxHeight={70} minHeight={50}>\r\n      <div style={{ position: 'absolute', top: '24px', right: '20px' }}>\r\n        <X color={theme.subText} size={24} onClick={toggleSelectCampaignModal} />\r\n      </div>\r\n      <CampaignListAndSearch onSelectCampaign={onSelectCampaign} />\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default memo(ModalSelectCampaign)\r\n","import { Trans, t } from '@lingui/macro'\r\nimport dayjs from 'dayjs'\r\nimport React, { useEffect, useMemo, useRef, useState } from 'react'\r\nimport { isMobile } from 'react-device-detect'\r\nimport { BarChart, ChevronDown, Clock, Share2, Star, Users } from 'react-feather'\r\nimport { useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useMedia } from 'react-use'\r\nimport { Flex, Text } from 'rebass'\r\nimport styled, { css } from 'styled-components'\r\nimport { useSWRConfig } from 'swr'\r\n\r\nimport { ButtonEmpty, ButtonLight } from 'components/Button'\r\nimport Divider from 'components/Divider'\r\nimport InfoHelper from 'components/InfoHelper'\r\nimport LocalLoader from 'components/LocalLoader'\r\nimport ProgressBar from 'components/ProgressBar'\r\nimport ShareModal from 'components/ShareModal'\r\nimport { MouseoverTooltip, TextDashed } from 'components/Tooltip'\r\nimport YourCampaignTransactionsModal from 'components/YourCampaignTransactionsModal'\r\nimport { SWR_KEYS } from 'constants/index'\r\nimport { useActiveWeb3React, useWeb3React } from 'hooks'\r\nimport useInterval from 'hooks/useInterval'\r\nimport useMixpanel, { MIXPANEL_TYPE } from 'hooks/useMixpanel'\r\nimport useTheme from 'hooks/useTheme'\r\nimport CampaignActions from 'pages/Campaign/CampaignActions'\r\nimport CampaignListAndSearch from 'pages/Campaign/CampaignListAndSearch'\r\nimport LeaderboardLayout from 'pages/Campaign/LeaderboardLayout'\r\nimport ModalRegisterCampaignCaptcha from 'pages/Campaign/ModalRegisterCampaignCaptcha'\r\nimport ModalRegisterCampaignSuccess from 'pages/Campaign/ModalRegisterCampaignSuccess'\r\nimport { Loading } from 'pages/ProAmmPool/ContentLoader'\r\nimport { AppState } from 'state'\r\nimport { ApplicationModal } from 'state/application/actions'\r\nimport {\r\n  useSelectCampaignModalToggle,\r\n  useToggleModal,\r\n  useToggleYourCampaignTransactionsModal,\r\n  useWalletModalToggle,\r\n} from 'state/application/hooks'\r\nimport {\r\n  CampaignData,\r\n  CampaignState,\r\n  CampaignStatus,\r\n  CampaignUserInfoStatus,\r\n  setCampaignData,\r\n  setSelectedCampaign,\r\n} from 'state/campaigns/actions'\r\nimport { useAppDispatch } from 'state/hooks'\r\nimport { HideMedium, MediumOnly } from 'theme'\r\nimport { formatNumberWithPrecisionRange } from 'utils'\r\nimport { getSlugUrlCampaign } from 'utils/campaign'\r\nimport { getFormattedTimeFromSecond } from 'utils/formatTime'\r\nimport oembed2iframe from 'utils/oembed2iframe'\r\n\r\n// This is needed to make sure the UI looks just like in Editor\r\nimport './CKEditor5.css'\r\nimport './CKEditor5_custom.css'\r\nimport ModalSelectCampaign from './ModalSelectCampaign'\r\n\r\nconst LoaderParagraphs = () => (\r\n  <>\r\n    <Loading style={{ height: '50px', marginBottom: '20px' }} />\r\n    <Loading style={{ height: '100px', marginBottom: '20px' }} />\r\n    <Loading style={{ height: '100px', marginBottom: '20px' }} />\r\n  </>\r\n)\r\n\r\nconst RankDetailWrapper = styled.div`\r\n  color: ${({ theme }) => theme.subText};\r\n  font-size: 14px;\r\n  gap: 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 5px 3px 10px 3px;\r\n`\r\n\r\nfunction RankDetail({ campaign }: { campaign: CampaignData | undefined }) {\r\n  const theme = useTheme()\r\n  const { account } = useWeb3React()\r\n  const isOngoing = campaign?.status === CampaignStatus.ONGOING\r\n\r\n  if (!account || !isOngoing || !campaign) return null\r\n  const {\r\n    tradingVolumeRequired,\r\n    tradingNumberRequired,\r\n    userInfo: { tradingNumber, tradingVolume, status: UserStatus } = { tradingNumber: 0, tradingVolume: 0 },\r\n  } = campaign\r\n\r\n  const percentTradingNumber = !tradingNumberRequired ? 0 : Math.floor((tradingNumber / tradingNumberRequired) * 100)\r\n\r\n  const percentTradingVolume = tradingVolumeRequired ? Math.floor((tradingVolume / tradingVolumeRequired) * 100) : 0\r\n\r\n  const isPassedVolume = percentTradingVolume >= 100\r\n  const isPassedNumberOfTrade = percentTradingNumber >= 100\r\n\r\n  if (\r\n    (isPassedVolume && isPassedNumberOfTrade) ||\r\n    (isPassedVolume && !tradingNumberRequired) ||\r\n    (isPassedNumberOfTrade && !tradingVolumeRequired) ||\r\n    (isOngoing && UserStatus === CampaignUserInfoStatus.Ineligible)\r\n  ) {\r\n    return null\r\n  }\r\n  return (\r\n    <InfoHelper\r\n      placement={isMobile ? 'bottom' : 'left'}\r\n      width=\"300px\"\r\n      text={\r\n        <RankDetailWrapper>\r\n          <Text color={theme.text} fontSize={16}>\r\n            <Trans>Requirements</Trans>\r\n          </Text>\r\n          <Text lineHeight={'20px'}>\r\n            <Trans>Fulfil these requirements to participate in the campaign</Trans>\r\n          </Text>\r\n          <Flex style={{ gap: 10 }} flexDirection=\"column\">\r\n            {tradingVolumeRequired > 0 && (\r\n              <ProgressBar\r\n                percent={percentTradingVolume}\r\n                title={t`Trading Volume`}\r\n                value={`${percentTradingVolume}%`}\r\n                color={isPassedVolume ? theme.primary : theme.warning}\r\n              />\r\n            )}\r\n            {tradingNumberRequired > 1 && (\r\n              <ProgressBar\r\n                percent={percentTradingNumber}\r\n                title={t`Number of Trades`}\r\n                value={`${percentTradingNumber}%`}\r\n                color={isPassedNumberOfTrade ? theme.primary : theme.warning}\r\n              />\r\n            )}\r\n          </Flex>\r\n        </RankDetailWrapper>\r\n      }\r\n      size={18}\r\n      color={theme.warning}\r\n    />\r\n  )\r\n}\r\n\r\nexport default function Campaign() {\r\n  const { account } = useActiveWeb3React()\r\n  const theme = useTheme()\r\n\r\n  const toggleYourCampaignTransactionModal = useToggleYourCampaignTransactionsModal()\r\n\r\n  const [activeTab, setActiveTab] = useState<'how_to_win' | 'rewards' | 'leaderboard' | 'lucky_winners'>('how_to_win')\r\n\r\n  const toggleWalletModal = useWalletModalToggle()\r\n  const toggleShareModal = useToggleModal(ApplicationModal.SHARE)\r\n\r\n  const { selectedCampaign, selectedCampaignLeaderboard } = useSelector((state: AppState) => state.campaigns)\r\n\r\n  const rules = selectedCampaign?.rules ?? ''\r\n  const termsAndConditions = selectedCampaign?.termsAndConditions ?? ''\r\n  const otherDetails = selectedCampaign?.otherDetails ?? ''\r\n  const rewardDetails = selectedCampaign?.rewardDetails ?? ''\r\n\r\n  const [showRules, setShowRules] = useState(true)\r\n  const [showTermsAndConditions, setShowTermsAndConditions] = useState(false)\r\n  const [showOtherDetails, setShowOtherDetails] = useState(false)\r\n\r\n  const { mixpanelHandler } = useMixpanel()\r\n\r\n  const above768 = useMedia('(min-width: 768px)')\r\n\r\n  const campaignDetailImageRef = useRef<HTMLImageElement>(null)\r\n  const [campaignDetailMediaLoadedMap, setCampaignDetailMediaLoadedMap] = useState<{ [id: string]: boolean }>({})\r\n  const isSelectedCampaignMediaLoaded = selectedCampaign && campaignDetailMediaLoadedMap[selectedCampaign.id]\r\n\r\n  const isOngoing = selectedCampaign?.status === CampaignStatus.ONGOING\r\n\r\n  useEffect(() => {\r\n    if (selectedCampaign?.status === CampaignStatus.ONGOING || selectedCampaign?.status === CampaignStatus.ENDED) {\r\n      setActiveTab('leaderboard')\r\n    }\r\n  }, [selectedCampaign])\r\n\r\n  useEffect(() => {\r\n    if (selectedCampaign === undefined) return\r\n\r\n    if (campaignDetailMediaLoadedMap[selectedCampaign.id]) {\r\n      if (campaignDetailImageRef && campaignDetailImageRef.current) {\r\n        campaignDetailImageRef.current.style.display = 'unset'\r\n      }\r\n    } else {\r\n      if (campaignDetailImageRef && campaignDetailImageRef.current) {\r\n        campaignDetailImageRef.current.style.display = 'none'\r\n      }\r\n    }\r\n  }, [campaignDetailMediaLoadedMap, selectedCampaign])\r\n\r\n  const TabHowToWinContent = useMemo(\r\n    // eslint-disable-next-line react/display-name\r\n    () => () =>\r\n      (\r\n        <Flex\r\n          // this is needed to make sure the content is displayed with styles of CKEditor\r\n          className=\"ck-content\"\r\n          flexDirection=\"column\"\r\n          sx={{\r\n            padding: '24px',\r\n          }}\r\n        >\r\n          <Flex\r\n            justifyContent=\"space-between\"\r\n            alignItems=\"center\"\r\n            style={{ cursor: 'pointer' }}\r\n            onClick={() => setShowRules(prev => !prev)}\r\n            padding=\"0 0 20px 0\"\r\n          >\r\n            <Text fontSize={16} fontWeight={500}>\r\n              <Trans>Rules</Trans>\r\n            </Text>\r\n            <ButtonEmpty width=\"fit-content\" style={{ padding: '0' }}>\r\n              <ChevronDown size={24} color={theme.subText} />\r\n            </ButtonEmpty>\r\n          </Flex>\r\n          {showRules ? (\r\n            isSelectedCampaignMediaLoaded ? (\r\n              <HTMLWrapper dangerouslySetInnerHTML={{ __html: oembed2iframe(rules) }} />\r\n            ) : (\r\n              <LoaderParagraphs />\r\n            )\r\n          ) : null}\r\n          <Divider />\r\n          <Flex\r\n            justifyContent=\"space-between\"\r\n            alignItems=\"center\"\r\n            style={{ cursor: 'pointer' }}\r\n            onClick={() => setShowTermsAndConditions(prev => !prev)}\r\n            padding=\"20px 0\"\r\n          >\r\n            <Text fontSize={16} fontWeight={500}>\r\n              <Trans>Terms and Conditions</Trans>\r\n            </Text>\r\n            <ButtonEmpty width=\"fit-content\" style={{ padding: '0' }}>\r\n              <ChevronDown size={24} color={theme.subText} />\r\n            </ButtonEmpty>\r\n          </Flex>\r\n          {showTermsAndConditions ? (\r\n            isSelectedCampaignMediaLoaded ? (\r\n              <HTMLWrapper dangerouslySetInnerHTML={{ __html: oembed2iframe(termsAndConditions) }} />\r\n            ) : (\r\n              <LoaderParagraphs />\r\n            )\r\n          ) : null}\r\n          <Divider />\r\n          <Flex\r\n            justifyContent=\"space-between\"\r\n            alignItems=\"center\"\r\n            style={{ cursor: 'pointer' }}\r\n            onClick={() => setShowOtherDetails(prev => !prev)}\r\n            padding=\"20px 0\"\r\n          >\r\n            <Text fontSize={16} fontWeight={500}>\r\n              <Trans>Other Details</Trans>\r\n            </Text>\r\n            <ButtonEmpty width=\"fit-content\" style={{ padding: '0' }}>\r\n              <ChevronDown size={24} color={theme.subText} />\r\n            </ButtonEmpty>\r\n          </Flex>\r\n          {showOtherDetails ? (\r\n            isSelectedCampaignMediaLoaded ? (\r\n              <HTMLWrapper dangerouslySetInnerHTML={{ __html: oembed2iframe(otherDetails) }} />\r\n            ) : (\r\n              <LoaderParagraphs />\r\n            )\r\n          ) : null}\r\n          <Divider />\r\n        </Flex>\r\n      ),\r\n    [\r\n      isSelectedCampaignMediaLoaded,\r\n      otherDetails,\r\n      rules,\r\n      showOtherDetails,\r\n      showRules,\r\n      showTermsAndConditions,\r\n      termsAndConditions,\r\n      theme.subText,\r\n    ],\r\n  )\r\n\r\n  const TabRewardsContent = useMemo(\r\n    // eslint-disable-next-line react/display-name\r\n    () => () =>\r\n      (\r\n        <Flex\r\n          // this is needed to make sure the content is displayed with styles of CKEditor\r\n          className=\"ck-content\"\r\n          flexDirection=\"column\"\r\n          sx={{ gap: '20px', padding: '24px' }}\r\n        >\r\n          <Text fontSize={16} fontWeight={500}>\r\n            <Trans>Rewards</Trans>\r\n          </Text>\r\n          {isSelectedCampaignMediaLoaded ? (\r\n            <HTMLWrapper dangerouslySetInnerHTML={{ __html: oembed2iframe(rewardDetails) }} />\r\n          ) : (\r\n            <LoaderParagraphs />\r\n          )}\r\n        </Flex>\r\n      ),\r\n    [isSelectedCampaignMediaLoaded, rewardDetails],\r\n  )\r\n\r\n  const toggleSelectCampaignModal = useSelectCampaignModalToggle()\r\n\r\n  const history = useHistory()\r\n  const onSelectCampaign = (campaign: CampaignData) => {\r\n    history.push(getSlugUrlCampaign(campaign))\r\n  }\r\n\r\n  const now = Date.now()\r\n\r\n  const {\r\n    loadingCampaignData,\r\n    loadingCampaignDataError,\r\n    data: campaigns,\r\n  } = useSelector((state: AppState) => state.campaigns)\r\n\r\n  const MINUTE_TO_REFRESH = 5\r\n  const [campaignsRefreshIn, setCampaignsRefreshIn] = useState(MINUTE_TO_REFRESH * 60)\r\n  const { mutate } = useSWRConfig()\r\n  const dispatch = useAppDispatch()\r\n  useInterval(\r\n    () => {\r\n      if (\r\n        selectedCampaign &&\r\n        selectedCampaign.status === CampaignStatus.UPCOMING &&\r\n        selectedCampaign.startTime < now + 1000\r\n      ) {\r\n        dispatch(\r\n          setCampaignData({\r\n            campaigns: campaigns.map(campaign => {\r\n              if (campaign.id === selectedCampaign.id) {\r\n                return {\r\n                  ...campaign,\r\n                  status: CampaignStatus.ONGOING,\r\n                }\r\n              }\r\n              return campaign\r\n            }),\r\n          }),\r\n        )\r\n        dispatch(setSelectedCampaign({ campaign: { ...selectedCampaign, status: CampaignStatus.ONGOING } }))\r\n      }\r\n      if (\r\n        selectedCampaign &&\r\n        selectedCampaign.status === CampaignStatus.ONGOING &&\r\n        selectedCampaign.endTime < now + 1000\r\n      ) {\r\n        dispatch(\r\n          setCampaignData({\r\n            campaigns: campaigns.map(campaign => {\r\n              if (campaign.id === selectedCampaign.id) {\r\n                return {\r\n                  ...campaign,\r\n                  status: CampaignStatus.ENDED,\r\n                }\r\n              }\r\n              return campaign\r\n            }),\r\n          }),\r\n        )\r\n        dispatch(setSelectedCampaign({ campaign: { ...selectedCampaign, status: CampaignStatus.ENDED } }))\r\n      }\r\n      setCampaignsRefreshIn(prev => {\r\n        if (prev === 0) {\r\n          return MINUTE_TO_REFRESH * 60\r\n        }\r\n        return prev - 1\r\n      })\r\n    },\r\n    selectedCampaign && selectedCampaign.campaignState === CampaignState.CampaignStateReady ? 1000 : null,\r\n    true,\r\n  )\r\n\r\n  const { selectedCampaignLeaderboardPageNumber, selectedCampaignLeaderboardLookupAddress } = useSelector(\r\n    (state: AppState) => state.campaigns,\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (campaignsRefreshIn === 0 && selectedCampaign) {\r\n      mutate([\r\n        selectedCampaign,\r\n        SWR_KEYS.getLeaderboard(selectedCampaign.id),\r\n        selectedCampaignLeaderboardPageNumber,\r\n        selectedCampaignLeaderboardLookupAddress,\r\n        account,\r\n      ])\r\n    }\r\n  }, [\r\n    mutate,\r\n    campaignsRefreshIn,\r\n    selectedCampaign,\r\n    selectedCampaignLeaderboardPageNumber,\r\n    selectedCampaignLeaderboardLookupAddress,\r\n    account,\r\n  ])\r\n\r\n  if (campaigns.length === 0 && loadingCampaignData) {\r\n    return <LocalLoader />\r\n  }\r\n\r\n  if (loadingCampaignDataError) {\r\n    return (\r\n      <div style={{ margin: '10%', fontSize: '20px' }}>\r\n        <Trans>There is an error while loading campaigns.</Trans>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (campaigns.length === 0)\r\n    return (\r\n      <div style={{ margin: '10%', fontSize: '20px' }}>\r\n        <Trans>Currently, there is no campaign.</Trans>\r\n      </div>\r\n    )\r\n\r\n  return (\r\n    <>\r\n      <PageWrapper>\r\n        <CampaignContainer>\r\n          <HideMedium style={{ maxWidth: 'max(35%, 400px)' }}>\r\n            <CampaignListAndSearch onSelectCampaign={onSelectCampaign} />\r\n          </HideMedium>\r\n\r\n          <CampaignDetail>\r\n            <MediumOnly>\r\n              <Flex justifyContent=\"space-between\" alignItems=\"center\">\r\n                <Text fontSize=\"20px\" lineHeight=\"24px\" fontWeight={500}>\r\n                  <Trans>Campaigns</Trans>\r\n                </Text>\r\n                <ButtonEmpty\r\n                  style={{ padding: '9px 9px', background: theme.background, width: 'fit-content' }}\r\n                  onClick={toggleSelectCampaignModal}\r\n                >\r\n                  <BarChart\r\n                    size={16}\r\n                    strokeWidth={3}\r\n                    color={theme.subText}\r\n                    style={{ transform: 'rotate(90deg) scaleX(-1)' }}\r\n                  />\r\n                </ButtonEmpty>\r\n                <ModalSelectCampaign />\r\n                <ModalRegisterCampaignCaptcha />\r\n                <ModalRegisterCampaignSuccess />\r\n              </Flex>\r\n            </MediumOnly>\r\n\r\n            <CampaignDetailImageContainer>\r\n              <Loading\r\n                style={{ width: '100%', height: '100%', position: 'absolute', top: 0, left: 0, borderRadius: '20px' }}\r\n              />\r\n              <CampaignDetailImage\r\n                src={above768 ? selectedCampaign?.desktopBanner : selectedCampaign?.mobileBanner}\r\n                alt=\"campaign-image\"\r\n                ref={campaignDetailImageRef}\r\n                onLoad={() => {\r\n                  setTimeout(() => {\r\n                    if (selectedCampaign)\r\n                      setCampaignDetailMediaLoadedMap(prev => ({ ...prev, [selectedCampaign.id]: true }))\r\n                  }, 500)\r\n                }}\r\n                onError={() => {\r\n                  if (selectedCampaign)\r\n                    setCampaignDetailMediaLoadedMap(prev => ({ ...prev, [selectedCampaign.id]: true }))\r\n                  if (campaignDetailImageRef && campaignDetailImageRef.current) {\r\n                    campaignDetailImageRef.current.style.display = 'none'\r\n                  }\r\n                }}\r\n              />\r\n            </CampaignDetailImageContainer>\r\n            <CampaignDetailHeader>\r\n              <Text fontSize=\"20px\" fontWeight={500}>\r\n                {selectedCampaign?.name}\r\n              </Text>\r\n              <ButtonContainer>\r\n                <CampaignActions campaign={selectedCampaign} leaderboard={selectedCampaignLeaderboard} />\r\n                <ButtonLight\r\n                  borderRadius=\"50%\"\r\n                  style={{ padding: '8px', flex: 0, minWidth: '44px', minHeight: '44px' }}\r\n                  onClick={toggleShareModal}\r\n                >\r\n                  <Share2 size={20} color={theme.primary} style={{ minWidth: '20px', minHeight: '20px' }} />\r\n                </ButtonLight>\r\n                <ShareModal\r\n                  url={window.location.href}\r\n                  onShared={() =>\r\n                    mixpanelHandler(MIXPANEL_TYPE.CAMPAIGN_SHARE_TRADING_CONTEST_CLICKED, {\r\n                      campaign_name: selectedCampaign?.name,\r\n                    })\r\n                  }\r\n                />\r\n              </ButtonContainer>\r\n            </CampaignDetailHeader>\r\n            <CampaignDetailBoxGroup>\r\n              <CampaignDetailBoxGroupItem>\r\n                <Text fontSize={14} fontWeight={500} color={theme.subText}>\r\n                  {selectedCampaign?.status === CampaignStatus.UPCOMING\r\n                    ? t`Starting In`\r\n                    : isOngoing\r\n                    ? t`Ending In`\r\n                    : t`Ended On`}\r\n                </Text>\r\n                <Clock size={20} color={theme.subText} />\r\n                {isSelectedCampaignMediaLoaded ? (\r\n                  <>\r\n                    {selectedCampaign.status === CampaignStatus.UPCOMING && (\r\n                      <TextDashed fontSize={20} fontWeight={500} style={{ gridColumn: '1 / -1' }}>\r\n                        <MouseoverTooltip\r\n                          width=\"fit-content\"\r\n                          text={dayjs(selectedCampaign.startTime).format('YYYY-MM-DD HH:mm')}\r\n                        >\r\n                          {selectedCampaign\r\n                            ? getFormattedTimeFromSecond((selectedCampaign.startTime - now) / 1000)\r\n                            : '--'}\r\n                        </MouseoverTooltip>\r\n                      </TextDashed>\r\n                    )}\r\n                    {selectedCampaign.status === CampaignStatus.ONGOING && (\r\n                      <TextDashed fontSize={20} fontWeight={500} style={{ gridColumn: '1 / -1' }}>\r\n                        <MouseoverTooltip\r\n                          width=\"fit-content\"\r\n                          text={dayjs(selectedCampaign.endTime).format('YYYY-MM-DD HH:mm')}\r\n                        >\r\n                          {selectedCampaign\r\n                            ? getFormattedTimeFromSecond((selectedCampaign.endTime - now) / 1000)\r\n                            : '--'}\r\n                        </MouseoverTooltip>\r\n                      </TextDashed>\r\n                    )}\r\n                    {selectedCampaign.status === CampaignStatus.ENDED && (\r\n                      <Text fontSize={20} fontWeight={500} style={{ gridColumn: '1 / -1' }}>\r\n                        {dayjs(selectedCampaign.endTime).format('YYYY-MM-DD HH:mm')}\r\n                      </Text>\r\n                    )}\r\n                  </>\r\n                ) : (\r\n                  <Loading style={{ height: '24px' }} />\r\n                )}\r\n              </CampaignDetailBoxGroupItem>\r\n              <CampaignDetailBoxGroupItem>\r\n                <Text fontSize={14} fontWeight={500} color={theme.subText}>\r\n                  <Trans>Participants</Trans>\r\n                </Text>\r\n                {!isMobile && <Users size={20} color={theme.subText} />}\r\n                {isSelectedCampaignMediaLoaded ? (\r\n                  <Text fontSize={20} fontWeight={500} style={{ gridColumn: '1 / -1' }}>\r\n                    {selectedCampaignLeaderboard?.numberOfEligibleParticipants\r\n                      ? formatNumberWithPrecisionRange(selectedCampaignLeaderboard.numberOfEligibleParticipants, 0, 0)\r\n                      : '--'}\r\n                  </Text>\r\n                ) : (\r\n                  <Loading style={{ height: '24px' }} />\r\n                )}\r\n              </CampaignDetailBoxGroupItem>\r\n              <CampaignDetailBoxGroupItem>\r\n                <Text fontSize={14} fontWeight={500} color={theme.subText}>\r\n                  <Trans>Your Rank</Trans>\r\n                  {isMobile && <RankDetail campaign={selectedCampaign} />}\r\n                </Text>\r\n                {!isMobile && <Star size={20} color={theme.subText} />}\r\n                {isSelectedCampaignMediaLoaded ? (\r\n                  account ? (\r\n                    <Flex justifyContent=\"space-between\" alignItems=\"center\" style={{ gridColumn: '1 / -1' }}>\r\n                      <Flex>\r\n                        <Text fontSize={20} fontWeight={500}>\r\n                          {selectedCampaign?.userInfo?.rankNo\r\n                            ? formatNumberWithPrecisionRange(selectedCampaign?.userInfo?.rankNo, 0, 2)\r\n                            : '--'}\r\n                        </Text>\r\n                        {!isMobile && <RankDetail campaign={selectedCampaign} />}\r\n                      </Flex>\r\n                      <YourTransactionButton onClick={toggleYourCampaignTransactionModal}>\r\n                        {above768 ? <Trans>Your Transactions</Trans> : <Trans>History</Trans>}\r\n                      </YourTransactionButton>\r\n                    </Flex>\r\n                  ) : (\r\n                    <ButtonLight\r\n                      style={{ gridColumn: '1 / -1', padding: '8px', margin: '0', borderRadius: '18px' }}\r\n                      onClick={toggleWalletModal}\r\n                    >\r\n                      <Trans>Connect Wallet</Trans>\r\n                    </ButtonLight>\r\n                  )\r\n                ) : (\r\n                  <Loading style={{ height: '24px' }} />\r\n                )}\r\n              </CampaignDetailBoxGroupItem>\r\n            </CampaignDetailBoxGroup>\r\n\r\n            <CampaignDetailTabRow>\r\n              <CampaignDetailTab active={activeTab === 'how_to_win'} onClick={() => setActiveTab('how_to_win')}>\r\n                <Trans>How to win</Trans>\r\n              </CampaignDetailTab>\r\n              <CampaignDetailTab active={activeTab === 'rewards'} onClick={() => setActiveTab('rewards')}>\r\n                <Trans>Rewards</Trans>\r\n              </CampaignDetailTab>\r\n              <CampaignDetailTab active={activeTab === 'leaderboard'} onClick={() => setActiveTab('leaderboard')}>\r\n                <Trans>Leaderboard</Trans>\r\n              </CampaignDetailTab>\r\n              {selectedCampaign && selectedCampaign.campaignState === CampaignState.CampaignStateDistributedRewards && (\r\n                <CampaignDetailTab active={activeTab === 'lucky_winners'} onClick={() => setActiveTab('lucky_winners')}>\r\n                  <Trans>Lucky Winners</Trans>\r\n                </CampaignDetailTab>\r\n              )}\r\n            </CampaignDetailTabRow>\r\n\r\n            <CampaignDetailContent>\r\n              {activeTab === 'how_to_win' && <TabHowToWinContent />}\r\n              {activeTab === 'rewards' && <TabRewardsContent />}\r\n              {activeTab === 'leaderboard' && <LeaderboardLayout type=\"leaderboard\" refreshIn={campaignsRefreshIn} />}\r\n              {activeTab === 'lucky_winners' && (\r\n                <LeaderboardLayout type=\"lucky_winner\" refreshIn={campaignsRefreshIn} />\r\n              )}\r\n            </CampaignDetailContent>\r\n          </CampaignDetail>\r\n        </CampaignContainer>\r\n      </PageWrapper>\r\n      <YourCampaignTransactionsModal />\r\n    </>\r\n  )\r\n}\r\n\r\nconst CampaignDetailContent = styled.div`\r\n  background: ${({ theme }) => theme.background};\r\n  border-radius: 20px;\r\n  flex: 1;\r\n  overflow: auto;\r\n`\r\n\r\nconst CampaignDetailTab = styled(ButtonEmpty)<{ active: boolean }>`\r\n  padding: 0 0 4px 0;\r\n  color: ${({ theme, active }) => (active ? theme.primary : theme.subText)};\r\n  font-size: 16px;\r\n  border-radius: 0;\r\n  cursor: pointer;\r\n  width: fit-content;\r\n  min-width: fit-content;\r\n\r\n  &:hover {\r\n    opacity: 0.72;\r\n  }\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    font-size: 14px;\r\n  `}\r\n`\r\n\r\nconst CampaignDetailTabRow = styled.div`\r\n  display: flex;\r\n  gap: 24px;\r\n  overflow: auto;\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    gap: 12px;\r\n  `}\r\n`\r\n\r\nconst CampaignDetailBoxGroup = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 24px;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToLarge`${css`\r\n    gap: 16px;\r\n  `}\r\n  `}\r\n`\r\n\r\nconst CampaignDetailBoxGroupItem = styled.div`\r\n  flex: 1;\r\n  padding: 20px 24px;\r\n  display: grid;\r\n  grid-template-columns: 1fr auto;\r\n  grid-template-rows: auto auto;\r\n  gap: 16px;\r\n  background: ${({ theme }) => theme.background};\r\n  border-radius: 20px;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToLarge`\r\n    &:first-of-type {\r\n      min-width: 100%;\r\n    }\r\n  `}\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    &:first-of-type {\r\n      min-width: unset;\r\n    }\r\n  `}\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    &:first-of-type {\r\n      min-width: 100%;\r\n    }\r\n  `}\r\n`\r\n\r\nconst CampaignDetailHeader = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  text-align: left;\r\n  justify-content: space-between;\r\n  gap: 12px;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToLarge`\r\n    flex-direction: column;\r\n    align-items: center;\r\n\r\n    & > *:first-child {\r\n      text-align: center;\r\n    }\r\n  `}\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    flex-direction: row;\r\n    align-items: center;\r\n\r\n    & > *:first-child {\r\n      text-align: left;\r\n    }\r\n  `}\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    flex-direction: column;\r\n    align-items: center;\r\n\r\n    & > *:first-child {\r\n      text-align: center;\r\n    }\r\n  `}\r\n`\r\n\r\nconst ButtonContainer = styled.div`\r\n  gap: 12px;\r\n  min-width: fit-content;\r\n  display: flex;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    ${css`\r\n      min-width: 100%;\r\n    `}\r\n  `}\r\n`\r\n\r\nconst PageWrapper = styled.div`\r\n  padding: 32px 24px 50px;\r\n  width: 100%;\r\n  max-width: 1500px;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    ${css`\r\n      padding: 24px 16px 100px;\r\n    `}\r\n  `}\r\n`\r\n\r\nconst CampaignContainer = styled.div`\r\n  display: flex;\r\n  gap: 24px;\r\n  //height: calc(100vh - 84.34px - 24px - 24px - 62px);\r\n  min-height: calc(100vh - 84.34px - 24px - 24px - 62px);\r\n  overflow: auto;\r\n`\r\n\r\nconst CampaignDetail = styled.div`\r\n  flex: 2;\r\n  overflow: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px;\r\n  border-radius: 20px;\r\n`\r\n\r\nconst CampaignDetailImageContainer = styled.div`\r\n  position: relative;\r\n  border-radius: 20px;\r\n  width: 100%;\r\n  padding-bottom: 25%; // 200 / 800\r\n  height: 0;\r\n\r\n  ${({ theme }) =>\r\n    theme.mediaWidth.upToSmall`${css`\r\n      padding-bottom: 38.48%; // 132 / 343\r\n    `}`}\r\n`\r\n\r\nconst CampaignDetailImage = styled.img`\r\n  object-fit: cover;\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  border-radius: 20px;\r\n`\r\n\r\nconst HTMLWrapper = styled.div`\r\n  padding-bottom: 20px;\r\n  word-break: break-word;\r\n  line-height: 1.5;\r\n\r\n  p,\r\n  li,\r\n  span,\r\n  div {\r\n    font-size: 14px;\r\n  }\r\n`\r\n\r\nconst YourTransactionButton = styled(ButtonLight)`\r\n  font-weight: 500;\r\n  font-size: 12px;\r\n  line-height: 16px;\r\n  padding: 2px 8px;\r\n  width: fit-content;\r\n  z-index: unset;\r\n`\r\n","import { Text } from 'rebass'\r\nimport styled from 'styled-components'\r\n\r\nexport const Wrapper = styled.div`\r\n  position: relative;\r\n`\r\n\r\nexport const ClickableText = styled(Text)`\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n  color: ${({ theme }) => theme.primary};\r\n`\r\n\r\nexport const Dots = styled.span`\r\n  &::after {\r\n    display: inline-block;\r\n    animation: ellipsis 1.25s infinite;\r\n    content: '.';\r\n    width: 1em;\r\n    text-align: left;\r\n  }\r\n  @keyframes ellipsis {\r\n    0% {\r\n      content: '.';\r\n    }\r\n    33% {\r\n      content: '..';\r\n    }\r\n    66% {\r\n      content: '...';\r\n    }\r\n  }\r\n`\r\n","import { Flex } from 'rebass'\r\nimport styled, { keyframes } from 'styled-components'\r\n\r\nimport Divider from 'components/Divider'\r\n\r\nconst shine = keyframes`\r\n  to {\r\n    background-position-x: -200%;\r\n  }\r\n`\r\n\r\nconst StyledPositionCard = styled.div`\r\n  border: none;\r\n  background: ${({ theme }) => theme.background};\r\n  position: relative;\r\n  overflow: hidden;\r\n  border-radius: 20px;\r\n  padding: 28px 20px 16px;\r\n  display: flex;\r\n  gap: 1rem;\r\n  flex-direction: column;\r\n`\r\n\r\nexport const Loading = styled.div`\r\n  background: linear-gradient(\r\n    90deg,\r\n    ${({ theme }) => theme.tableHeader} 8%,\r\n    ${({ theme }) => theme.tableHeader} 18%,\r\n    ${({ theme }) => theme.tableHeader} 33%\r\n  );\r\n  border-radius: 20px;\r\n  background-size: 200% 100%;\r\n  animation: 1.5s ${shine} linear infinite;\r\n`\r\n\r\nconst Title = styled(Loading)`\r\n  height: 41px;\r\n`\r\n\r\nconst Tab = styled(Loading)`\r\n  height: 28px;\r\n  border-radius: 999px;\r\n`\r\n\r\nfunction ContentLoader() {\r\n  return (\r\n    <StyledPositionCard>\r\n      <Title />\r\n      <Tab />\r\n      <Loading style={{ height: '104px' }} />\r\n      <Loading style={{ height: '128px' }} />\r\n\r\n      <Flex>\r\n        <Loading style={{ height: '36px', flex: 1, borderRadius: '999px' }} />\r\n        <Loading style={{ height: '36px', flex: 1, marginLeft: '1rem', borderRadius: '999px' }} />\r\n      </Flex>\r\n\r\n      <Divider />\r\n\r\n      <Loading style={{ height: '15px', width: '80px', borderRadius: '999px' }} />\r\n    </StyledPositionCard>\r\n  )\r\n}\r\n\r\nexport default ContentLoader\r\n","export const getFormattedTimeFromSecond = (numberOfSeconds: number, showDetail = false) => {\r\n  if (numberOfSeconds === 0) {\r\n    return '0 Days'\r\n  }\r\n\r\n  const second = numberOfSeconds % 60\r\n  const estimatedRemainingMinutes = (numberOfSeconds - second) / 60\r\n  const minute = estimatedRemainingMinutes % 60\r\n  const estimatedRemainingHours = (estimatedRemainingMinutes - minute) / 60\r\n  const hour = estimatedRemainingHours % 24\r\n  const estimatedRemainingDays = (estimatedRemainingHours - hour) / 24\r\n\r\n  let formattedEstimatedRemainingTime = ''\r\n\r\n  let unit: string\r\n\r\n  if (estimatedRemainingDays || !showDetail) {\r\n    unit = (showDetail ? ' Day' : 'D') + (showDetail && estimatedRemainingDays > 1 ? 's ' : ' ')\r\n    formattedEstimatedRemainingTime += estimatedRemainingDays + unit\r\n  }\r\n\r\n  if (hour || !showDetail) {\r\n    unit = (showDetail ? ' Hour' : 'H') + (showDetail && hour > 1 ? 's ' : ' ')\r\n    formattedEstimatedRemainingTime += hour + unit\r\n  }\r\n\r\n  if (minute || !showDetail) {\r\n    unit = (showDetail ? ' Minute' : 'M') + (showDetail && minute > 1 ? 's ' : ' ')\r\n    formattedEstimatedRemainingTime += minute + unit\r\n  }\r\n\r\n  const showSecond = estimatedRemainingDays === 0 && hour === 0 && minute === 0\r\n  if (showSecond) {\r\n    unit = (showDetail ? ' Second' : 'S') + (showDetail && second > 1 ? 's ' : ' ')\r\n    formattedEstimatedRemainingTime += Math.trunc(second) + unit\r\n  }\r\n\r\n  return formattedEstimatedRemainingTime\r\n}\r\n","import { BigNumber } from '@ethersproject/bignumber'\r\nimport { TransactionResponse } from '@ethersproject/providers'\r\nimport { t } from '@lingui/macro'\r\nimport { captureException } from '@sentry/react'\r\nimport { SignerWalletAdapter } from '@solana/wallet-adapter-base'\r\nimport { Transaction, VersionedTransaction } from '@solana/web3.js'\r\nimport { ethers } from 'ethers'\r\n\r\nimport connection from 'state/connection/connection'\r\nimport { SolanaEncode } from 'state/swap/types'\r\nimport { TransactionHistory } from 'state/transactions/hooks'\r\nimport { TRANSACTION_TYPE } from 'state/transactions/type'\r\n// import connection from 'state/connection/connection'\r\nimport { calculateGasMargin } from 'utils'\r\n\r\nexport async function sendEVMTransaction(\r\n  account: string,\r\n  library: ethers.providers.Web3Provider | undefined,\r\n  contractAddress: string,\r\n  encodedData: string,\r\n  value: BigNumber,\r\n  handler?: (response: TransactionResponse) => void,\r\n): Promise<string | undefined> {\r\n  if (!account || !library) return\r\n\r\n  const estimateGasOption = {\r\n    from: account,\r\n    to: contractAddress,\r\n    data: encodedData,\r\n    value,\r\n  }\r\n\r\n  let gasEstimate: ethers.BigNumber | undefined\r\n  try {\r\n    gasEstimate = await library.getSigner().estimateGas(estimateGasOption)\r\n    if (!gasEstimate) throw new Error('gasEstimate is nullish value')\r\n  } catch (error) {\r\n    const e = new Error('Swap failed', { cause: error })\r\n    e.name = 'SwapError'\r\n\r\n    const tmp = JSON.stringify(error)\r\n    const tag = tmp.includes('minTotalAmountOut')\r\n      ? 'minTotalAmountOut'\r\n      : tmp.includes('ERR_LIMIT_OUT')\r\n      ? 'ERR_LIMIT_OUT'\r\n      : tmp.toLowerCase().includes('1inch')\r\n      ? 'call1InchFailed'\r\n      : 'other'\r\n\r\n    captureException(e, {\r\n      level: 'fatal',\r\n      extra: estimateGasOption,\r\n      tags: {\r\n        type: tag,\r\n      },\r\n    })\r\n\r\n    throw new Error('gasEstimate not found: Unexpected error. Please contact support: none of the calls threw an error')\r\n  }\r\n\r\n  const sendTransactionOption = {\r\n    from: account,\r\n    to: contractAddress,\r\n    data: encodedData,\r\n    gasLimit: calculateGasMargin(gasEstimate),\r\n    ...(value.eq('0') ? {} : { value }),\r\n  }\r\n\r\n  try {\r\n    const response = await library.getSigner().sendTransaction(sendTransactionOption)\r\n    handler?.(response)\r\n    return response.hash\r\n  } catch (error) {\r\n    // if the user rejected the tx, pass this along\r\n    if (error?.code === 4001 || error?.code === 'ACTION_REJECTED') {\r\n      throw new Error('Transaction rejected.')\r\n    } else {\r\n      const e = new Error('Swap failed', { cause: error })\r\n      e.name = 'SwapError'\r\n\r\n      const tmp = JSON.stringify(error)\r\n      const tag = tmp.includes('minTotalAmountOut')\r\n        ? 'minTotalAmountOut'\r\n        : tmp.includes('ERR_LIMIT_OUT')\r\n        ? 'ERR_LIMIT_OUT'\r\n        : tmp.toLowerCase().includes('1inch')\r\n        ? 'call1InchFailed'\r\n        : 'other'\r\n\r\n      captureException(e, {\r\n        level: 'error',\r\n        extra: sendTransactionOption,\r\n        tags: {\r\n          type: tag,\r\n        },\r\n      })\r\n\r\n      // Otherwise, the error was unexpected, and we need to convey that.\r\n      throw new Error(error)\r\n    }\r\n  }\r\n}\r\n\r\nconst getInspectTxSolanaUrl = (tx: Transaction | VersionedTransaction | undefined | null) => {\r\n  if (!tx) return ''\r\n  if ('serializeMessage' in tx) return Buffer.concat([Buffer.from([0]), tx.serializeMessage()]).toString('base64')\r\n  if ('serialize' in tx) return Buffer.from(tx.serialize()).toString('base64')\r\n  return ''\r\n}\r\n\r\nexport async function sendSolanaTransactions(\r\n  encode: SolanaEncode,\r\n  solanaWallet: SignerWalletAdapter,\r\n  addTransactionWithType: (tx: TransactionHistory) => void,\r\n  swapData: TransactionHistory,\r\n): Promise<string[] | undefined> {\r\n  if (!encode) return\r\n  if (!encode.swapTx) return\r\n\r\n  const txs: (Transaction | VersionedTransaction)[] = []\r\n\r\n  if (encode.setupTx) {\r\n    txs.push(encode.setupTx)\r\n  }\r\n\r\n  txs.push(encode.swapTx)\r\n\r\n  const populateTx = (\r\n    txs: (Transaction | VersionedTransaction)[],\r\n  ): {\r\n    signedSetupTx: Transaction | undefined\r\n    signedSwapTx: VersionedTransaction\r\n  } => {\r\n    const result: {\r\n      signedSetupTx: Transaction | undefined\r\n      signedSwapTx: VersionedTransaction | undefined\r\n    } = { signedSetupTx: undefined, signedSwapTx: undefined }\r\n    let count = 0\r\n    if (encode.setupTx) result.signedSetupTx = txs[count++] as Transaction\r\n    result.signedSwapTx = txs[count++] as VersionedTransaction\r\n    return result as {\r\n      signedSetupTx: Transaction | undefined\r\n      signedSwapTx: VersionedTransaction\r\n    }\r\n  }\r\n\r\n  console.group('Sending transactions:')\r\n  encode.setupTx && console.info('setup tx:', getInspectTxSolanaUrl(encode.setupTx))\r\n  console.info('swap tx:', getInspectTxSolanaUrl(encode.swapTx))\r\n  console.info('inspector: https://explorer.solana.com/tx/inspector')\r\n  console.groupEnd()\r\n\r\n  try {\r\n    let signedTxs: (Transaction | VersionedTransaction)[]\r\n    try {\r\n      signedTxs = await (solanaWallet as SignerWalletAdapter).signAllTransactions(txs)\r\n    } catch (e) {\r\n      console.log({ e })\r\n      throw e\r\n    }\r\n    const { signedSetupTx, signedSwapTx } = populateTx(signedTxs)\r\n    const txHashs: string[] = []\r\n    let setupHash: string\r\n    if (signedSetupTx) {\r\n      try {\r\n        setupHash = await connection.sendRawTransaction(signedSetupTx.serialize())\r\n        txHashs.push(setupHash)\r\n        addTransactionWithType({\r\n          type: TRANSACTION_TYPE.SETUP,\r\n          hash: setupHash,\r\n          firstTxHash: txHashs[0],\r\n          summary: 'swap ' + swapData.summary,\r\n          arbitrary: {\r\n            index: 1,\r\n            total: signedTxs.length,\r\n            mainTx: swapData,\r\n          },\r\n        })\r\n        await connection.confirmTransaction(setupHash, 'finalized')\r\n      } catch (error) {\r\n        console.error({ error })\r\n        throw new Error('Set up error' + (error.message ? ': ' + error.message : ''))\r\n      }\r\n    }\r\n\r\n    let swapHash: string\r\n    try {\r\n      swapHash = await connection.sendRawTransaction(Buffer.from(signedSwapTx.serialize()))\r\n      txHashs.push(swapHash)\r\n      addTransactionWithType({ ...swapData, hash: swapHash, firstTxHash: txHashs[0] })\r\n    } catch (error) {\r\n      console.error({ error })\r\n      if (error?.message?.endsWith('0x1771')) {\r\n        throw new Error(t`An error occurred. Try refreshing the price rate or increase max slippage`)\r\n      } else if (/0x[0-9a-f]+$/.test(error.message)) {\r\n        const errorCode = error.message.split(' ').slice(-1)[0]\r\n        throw new Error(t`Error encountered. We havent send the transaction yet. Error code ${errorCode}`)\r\n      }\r\n      throw new Error(t`Error encountered. We havent send the transaction yet.`)\r\n    }\r\n\r\n    return txHashs\r\n  } catch (e) {\r\n    throw e\r\n  }\r\n}\r\n"],"sourceRoot":""}